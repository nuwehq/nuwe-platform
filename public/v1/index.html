<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>nuapi reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="stylesheets/overrides.css" rel="stylesheet" type="text/css" />
    <script src="//code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="javascripts/all.js" type="text/javascript"></script>

    <script>
      $(function() {
        var toc = $("#toc").tocify({
          selectors: "h1,h2",
          extendPage: false,
          theme: "none",
          smoothScroll: false,
          showEffectSpeed: 0,
          hideEffectSpeed: 180,
          ignoreSelector: ".toc-ignore",
          hashGenerator: 'pretty',
          highlightOffset: 60,
          scrollTo: -2,
          scrollHistory: true,
          hashGenerator: function(text, element) {
            return element[0].getAttribute('id');
          }
        }).data("toc-tocify");
        // Hack to make already open sections to start opened,
        // instead of displaying an ugly animation
        setTimeout(function() {
          toc.setOption("showEffectSpeed", 180);
        },50);
        setupLanguages([
                'shell',
                'objective_c',
                'java',
                'javascript',
                'python',
                'ruby',
        ]);
      });
    </script>
  </head>

  <body class="index">
    <div class="tocify-wrapper">
      <div id="toc">
      </div>
      <ul class="toc-footer">
          <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to Nuwe REST API.</p>

<p>This documentation was built on 2016-01-13 11:16:54 +0100.</p>

            <h1 id="quickstart">Quickstart</h1>

<h2 id="developer-portal">Developer Portal</h2>

<p>As a developer, you can sign up for a developer account at <a href="https://developer.nuwe.co">https://developer.nuwe.co</a>, where you can create your application on the <a href="https://developer.nuwe.co">Nuwe Developer Platform</a>. An application needs: </p>

<ul>
<li>Name,</li>
<li>Description,</li>
<li>App icon,</li>
<li>App Platform (e.g. Ruby, iOS Android),</li>
<li>Redirect Uri,</li>
<li>Set enabled or disabled.</li>
</ul>

<h2 id="versioning">Versioning</h2>

<p>In the URL format, the api version is denoted by the relative path prefix <code class="prettyprint">/[version]/</code></p>

<p>So, &lsquo;/v3/&rsquo; denotes that we are using version 3 of the Nuwe API.</p>

            <h1 id="nuuser">NUUser</h1>

<p>At the heart of most health apps is the User, so Nuwe makes it very easy to build complex User models for storing and working with health data.</p>

<p>This is our core User Class and the foundation of our centralised federated User identity system. At Nuwe, we took the view that having a single User identity that can successfully connect all of the various apps, devices and most importantly, data of a User&rsquo;s health and wellness so that it can easily be used within various 3rd party apps and new innovative wellness services, without the need to manage multiple profiles and silos of fragmented data.</p>

<p>Users can, at their discretion, share their health and wellness data with developers. Nuwe provides granular sharing permissions and controls for doing so. Application developers must only request access data according to the needs of their application, and no more than is required.</p>

<p>Nuwe takes a very firm standpoint on the view that this personal data belongs to the User, not Nuwe and not the application developer, regardless of where the User originally creates their account.</p>

<h2 id="nuuser-requirements">NUUser Requirements</h2>

<p>The <code class="prettyprint">NUUser</code> requires an <code class="prettyprint">email</code> and <code class="prettyprint">password</code>. Nuwe ensures the uniqueness of the <code class="prettyprint">email address</code>. The <code class="prettyprint">password</code> is automatically encrypted and securely stored.</p>

<h2 id="authorization">Authorization</h2>

<p>Nuwe uses the Doorkeeper gem to use NuAPI as an OAuth2 provider. This is necessary to gain access to the endpoints of this API.</p>

<h3 id="authenticated-requests:-two-methods">Authenticated requests: two methods</h3>

<ul>
<li><p>To make requests to the Nuwe API, the system checks if you have set up a valid application on the <a href="https://developer.nuwe.co">Nuwe Developer Platform</a>. This is done by checking the <strong>Bearer token</strong>, which you add in the request header of your api request. Read on to see how you can use Oauth2 to receive a Bearer token for your users, on whose behalf you are making the request.</p></li>
<li><p>Some API endpoints can be accessed by just entering the <strong>application ID and client secret</strong>, which you receive after setting up a valid application on the <a href="https://developer.nuwe.co">Nuwe Developer Platform</a>, in the request header. This method is easier to set up, you no longer need the OAuth2 method, but only allows access to some API endpoints.</p></li>
</ul>

<h3 id="client-libraries">Client Libraries</h3>

<p><strong>Ruby</strong></p>

<p><a href="https://github.com/nuwehq/omniauth-nuwe">Omniauth Nuwe Ruby Gem</a> available to set up OAuth2 for your rails, sinatra or other ruby-based applications.</p>

<p>Please read the Gem&rsquo;s Readme and study the <a href="http://tools.ietf.org/html/rfc6749">OAuth2 documentation</a> to get a better understanding of it.</p>

<p><strong>Javascript</strong></p>

<p><a href="https://github.com/nuwehq/passport-nuwe">Passport.js Strategy via npm</a> available to set up OAuth2 for your express or other such node.js applications.</p>

<p>See the npm&rsquo;s Readme and study the <a href="http://tools.ietf.org/html/rfc6749">OAuth2 documentation</a> to get a better understanding of it.</p>

<h3 id="redirect-uri">Redirect Uri</h3>

<p>The Redirect URI is where users (resource owners) are redirected to, after they grant your application access to their data. Within an iOS app, the uri can be built from a chosen scheme, for example: <a href="foo://redirecturi">foo://redirecturi</a>. For testing purposes, the redirect uri can be <strong>urn:ietf:wg:oauth:2.0:oob</strong>. This will tell the server to display the authorization code in the Nuwe webview instead of redirecting to your application.</p>

<h3 id="application-id-&amp;-secret">Application ID &amp; Secret</h3>

<p>After creating a new app, you will receive an Application ID and Client secret, for authenticating your application. It will also display the button with which to authorize the application. Use the ID &amp; Secret to exchange user&rsquo;s Authorization code to an Access Token (a bearer token). (see below).</p>

<h3 id="users-authorization">Users Authorization</h3>

<p>To let users (resource owners) authorize your application to access their data, point towards the following link  <strong>https://developer.nuwe.co/oauth/authorize?client_id=[ENV CLIENT ID]&amp;redirect_uri=[ENV REDIRECT URI]&amp;response_type=code</strong>. The user then gets the choice to Authorize or Deny the app.</p>

<h3 id="from-authorization-code-to-access-token">From Authorization Code to Access Token</h3>

<p>After Authorization, an <strong>Authorization Code</strong> is given. This code has an expiration time of 10 minutes and needs to be exchanged for an <strong>Access Token</strong>. This access token is a Bearer token and is necessary in the request header to make Nuwe requests. For Rails apps this can be done using the Oauth2 Gem. You can now make requests to the API with the returned access token (Bearer token). The access token is valid</p>

<h3 id="refresh-token">Refresh token</h3>

<p>The Nuwe API is able to issue a refresh token in addition to the regular access token. When time passes and the access token expires, you can refresh the old token, so you can continue accessing the Nuwe API.  For more information about how they work, <a href="http://tools.ietf.org/html/draft-ietf-oauth-v2-22#section-1.5">check out the OAuth 2 section about refresh tokens</a>. Or read the Doorkeeper Wiki page on how to <a href="https://github.com/doorkeeper-gem/doorkeeper/wiki/Enable-Refresh-Token-Credentials">test with the OAuth2 gem</a>.</p>

<h3 id="recap-flow">Recap flow</h3>

<ol>
<li>Sign up as developer</li>
<li>Create new application</li>
<li>Set up with Application ID &amp; secret</li>
<li>Let users authorize your application to access their data</li>
<li>Receive authorization code and turn it into access token.</li>
</ol>

<h3 id="additional-reading">Additional Reading</h3>

<ol>
<li>The Doorkeeper RailsGem has an expansive <a href="https://github.com/doorkeeper-gem/doorkeeper/wiki">Wiki</a> with help on:

<ul>
<li><a href="https://github.com/doorkeeper-gem/doorkeeper/wiki/Testing-your-provider-with-OAuth2-gem">Testing your provider with OAuth2 Gem</a></li>
<li><a href="https://github.com/doorkeeper-gem/doorkeeper/wiki/Interacting-as-an-OAuth-client-with-Doorkeeper">Interacting as an OAuth client with Doorkeeper</a></li>
</ul></li>
<li>There is a (slightly outdated, but still valuable) <a href="http://railscasts.com/episodes/353-oauth-with-doorkeeper">RailsCast</a> about Doorkeeper (Pro episode, so might not be available to you.)</li>
</ol>

<h2 id="register">Register</h2>

<p>Users can be registered with or without providing api credentials.  This resource accepts a valid Nuwe Developer App ID and Secret as authentication scope.</p>

<p>If the api authentication header is included, a bearer token will be created for the user and your application will be authorized during the registration.</p>

<p>Otherwise, users will still need to authorize your application following the Users Authorization flow previously outlined.</p>

<blockquote>
<p>To register a new <code class="prettyprint">NUUser</code>, use this code:</p>
</blockquote>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/users.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">user</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gorby@example.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gorbypuff</span><span class="se">\"</span><span class="s2">}}"</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/users.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">user</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gorby@example.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gorbypuff</span><span class="se">\"</span><span class="s2">}}"</span>
</pre>
<pre class="highlight objective_c">
</pre>
<pre class="highlight java">
</pre>
<pre class="highlight javascript">
</pre>
<pre class="highlight python">
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns a <a href="#show-profile">user in JSON format</a>.</p>
</blockquote>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td></td>
<td>yes</td>
<td>email address</td>
</tr>
<tr>
<td>password</td>
<td></td>
<td>yes</td>
<td>minimum 8 characters</td>
</tr>
<tr>
<td>facebook_id</td>
<td></td>
<td>no</td>
<td>facebook id</td>
</tr>
</tbody></table>

<p>Post a JSON-encoded hash of new user details, keeping the following in mind:</p>

<ul>
<li>both email and password are present</li>
<li>the email address must not already exist in the database</li>
<li>the password is 8 characters or more</li>
<li>if you provide a facebook id, it must not already exist</li>
</ul>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>The user was created successfully</td>
</tr>
<tr>
<td>400</td>
<td>User not created because of validation errors(s)</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

<h2 id="show-profile">Show Profile</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/profile.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
</pre>
<pre class="highlight objective_c"><span class="cp">#Objective C
</span><span class="n">NSURL</span> <span class="o">*</span><span class="n">url</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://api.nuapi.co/v3/profile.json"</span><span class="p">];</span>
<span class="n">NSURLSessionConfiguration</span> <span class="o">*</span><span class="n">config</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSessionConfiguration</span> <span class="nf">defaultSessionConfiguration</span><span class="p">];</span>
<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sessionWithConfiguration</span><span class="p">:</span><span class="n">config</span><span class="p">];</span>
<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableURLRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithURL</span><span class="p">:</span><span class="n">url</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Content-Type"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>
<span class="n">NSURLSessionDownloadTask</span> <span class="o">*</span><span class="n">downloadTask</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">downloadTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                                        <span class="nf">completionHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSURL</span> <span class="o">*</span><span class="n">location</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                                            <span class="c1">// Handle response here
</span>                                                        <span class="p">}];</span>
<span class="p">[</span><span class="n">downloadTask</span> <span class="nf">resume</span><span class="p">];</span>

<span class="cp">#Swift
</span>
<span class="n">let</span> <span class="n">urlstring</span> <span class="o">=</span> <span class="s">"https://api.nuapi.co/v3/profile.json"</span>
<span class="k">if</span> <span class="n">let</span> <span class="n">url</span> <span class="o">=</span> <span class="n">NSURL</span><span class="p">(</span><span class="n">string</span><span class="o">:</span><span class="n">urlstring</span><span class="p">)</span> <span class="p">{</span>
<span class="n">let</span> <span class="n">session</span> <span class="o">=</span> <span class="n">NSURLSession</span><span class="p">(</span>
    <span class="n">configuration</span><span class="o">:</span> <span class="n">NSURLSessionConfiguration</span><span class="p">.</span><span class="n">defaultSessionConfiguration</span><span class="p">())</span>
<span class="n">let</span> <span class="n">request</span> <span class="o">=</span> <span class="n">NSMutableURLRequest</span><span class="p">(</span><span class="n">URL</span><span class="o">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span> <span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="n">forHTTPHeaderField</span><span class="o">:</span> <span class="s">"Content-Type"</span><span class="p">)</span>
<span class="n">request</span> <span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">"Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span><span class="p">,</span> <span class="n">forHTTPHeaderField</span><span class="o">:</span> <span class="s">"Authorization"</span><span class="p">)</span>
<span class="n">let</span> <span class="n">downloadTask</span> <span class="o">=</span> <span class="n">session</span><span class="p">.</span><span class="n">downloadTaskWithRequest</span><span class="p">(</span><span class="n">request</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Void</span> <span class="k">in</span>
    <span class="k">if</span> <span class="n">error</span> <span class="o">!=</span> <span class="nb">nil</span> <span class="p">{</span>
        <span class="n">println</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// handle response
</span>    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">downloadTask</span><span class="p">.</span><span class="n">resume</span><span class="p">()</span>
<span class="p">}</span>
</pre>
<pre class="highlight java">
</pre>
<pre class="highlight javascript">  <span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
  <span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">"GET"</span><span class="p">,</span> <span class="s2">"https://api.nuapi.co/v3/profile.json"</span><span class="p">);</span>
  <span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Content-Type'</span><span class="p">,</span> <span class="s1">'application/json'</span><span class="p">);</span>
  <span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c'</span><span class="p">);</span>
  <span class="nx">xhr</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">xhr</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// handle the response
</span>      <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">profile</span><span class="p">));</span>
</pre>
<pre class="highlight python">
<span class="kn">import</span> <span class="nn">json</span><span class="o">,</span><span class="nn">httplib</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">httplib</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">'https://api.nuapi.co'</span><span class="p">,</span> <span class="mi">443</span><span class="p">)</span>
<span class="n">connection</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">connection</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">'GET'</span><span class="p">,</span> <span class="s">'/v3/profile.json'</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="p">{</span>
       <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
       <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
     <span class="p">})</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="k">print</span> <span class="n">result</span>

</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">4370</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"diamond.cummerata@corwin.net"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bmi"</span><span class="p">:</span><span class="s2">"25.867545346578"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"weight"</span><span class="p">:</span><span class="s2">"80000.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"height"</span><span class="p">:</span><span class="s2">"1880.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bpm"</span><span class="p">:</span><span class="s2">"120.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"blood_pressure"</span><span class="p">:</span><span class="s2">"110/90"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nu_score"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">88</span><span class="p">,</span><span class="w">
         </span><span class="s2">"freshness"</span><span class="p">:</span><span class="err">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"biometric_score"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"score"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
         </span><span class="s2">"freshness"</span><span class="p">:</span><span class="err">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"activity_score"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">700</span><span class="p">,</span><span class="w">
         </span><span class="s2">"freshness"</span><span class="p">:</span><span class="mi">49</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"nutrition_score"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">999</span><span class="p">,</span><span class="w">
         </span><span class="s2">"freshness"</span><span class="p">:</span><span class="mi">12</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"nutrition"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"personalised_gda"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"kcal"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"1924.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"1924.0"</span><span class="p">},</span><span class="w">
          </span><span class="s2">"protein"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"65.548039215686274509803921569"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"267.436"</span><span class="p">},</span><span class="w">
          </span><span class="s2">"fibre"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"g"</span><span class="p">:</span><span class="mi">24</span><span class="p">,</span><span class="s2">"kcal"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="w">
          </span><span class="s2">"carbs"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"200.618090452261306532663316583"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"798.46"</span><span class="p">},</span><span class="w">
          </span><span class="s2">"fat_u"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"43.570403587443946188340807175"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"388.648"</span><span class="p">},</span><span class="w">
          </span><span class="s2">"fat_s"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"17.471300448430493273542600897"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"155.844"</span><span class="p">},</span><span class="w">
          </span><span class="s2">"salt"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"g"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kcal"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="w">
          </span><span class="s2">"sugar"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"78.796984924623115577889447237"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"313.612"</span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="s2">"profile"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"first_name"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
         </span><span class="s2">"last_name"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
         </span><span class="s2">"sex"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
         </span><span class="s2">"birth_date"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
         </span><span class="s2">"activity"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
         </span><span class="s2">"facebook_id"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
         </span><span class="s2">"time_zone"</span><span class="p">:</span><span class="s2">"Europe/Sofia"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"data"</span><span class="p">:{},</span><span class="w">
         </span><span class="s2">"avatar"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"tiny"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/profiles/avatars/000/001/837/tiny/avatar.jpg?1399388433"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"small"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/profiles/avatars/000/001/837/small/avatar.jpg?1399388433"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"medium"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/profiles/avatars/000/001/837/medium/avatar.jpg?1399388433"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tokens"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"e43cca13-9ba8-4581-b996-7894b3504d14"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"scope"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-05-06T15:00:33.431Z"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"preferences"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"units"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"metric"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>You can retrieve the content of a user <code class="prettyprint">profile</code> by sending a <code class="prettyprint">GET</code> request to the <code class="prettyprint">/profile.json</code> endpoint.</p>

<p>The response is a complete summary of User profile data. The extent of the data returned will depend on the scope of the permission you have received from the User.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource with Bearer Token.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The authenticated user&rsquo;s profile</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

<h2 id="update-profile">Update Profile</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/profile.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">profile</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">first_name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Gorby</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">last_name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Puff</span><span class="se">\"</span><span class="s2">}}"</span>
</pre>
<pre class="highlight objective_c"><span class="cp">#Objective C
</span><span class="n">NSURL</span> <span class="o">*</span><span class="n">url</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://api.nuapi.co/v3/profile.json"</span><span class="p">];</span>
<span class="n">NSURLSessionConfiguration</span> <span class="o">*</span><span class="n">config</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSessionConfiguration</span> <span class="nf">defaultSessionConfiguration</span><span class="p">];</span>
<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sessionWithConfiguration</span><span class="p">:</span><span class="n">config</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableURLRequest</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithURL</span><span class="p">:</span><span class="n">url</span><span class="p">];</span>
<span class="n">request</span><span class="p">.</span><span class="n">HTTPMethod</span> <span class="o">=</span> <span class="s">@"PATCH"</span><span class="p">;</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Content-Type"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSDictionary</span> <span class="o">*</span><span class="n">dictionary</span> <span class="o">=</span> <span class="err">@</span><span class="p">{</span><span class="s">@"first_name"</span><span class="o">:</span><span class="s">@"Gorby"</span><span class="p">,</span> <span class="s">@"last_name"</span><span class="o">:</span><span class="s">@"Puff"</span><span class="p">};</span>
<span class="n">NSError</span> <span class="o">*</span><span class="n">error</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
<span class="n">NSData</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSJSONSerialization</span> <span class="nf">dataWithJSONObject</span><span class="p">:</span><span class="n">dictionary</span>
                                                              <span class="nf">options</span><span class="p">:</span><span class="n">kNilOptions</span> <span class="nf">error</span><span class="p">:</span><span class="o">&amp;</span><span class="n">error</span><span class="p">];</span>

<span class="n">NSURLSessionUploadTask</span> <span class="o">*</span><span class="n">uploadTask</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">uploadTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                                           <span class="nf">fromData</span><span class="p">:</span><span class="n">data</span> <span class="nf">completionHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span><span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                                               <span class="c1">// Handle response here
</span>                                                           <span class="p">}];</span>
<span class="p">[</span><span class="n">uploadTask</span> <span class="nf">resume</span><span class="p">];</span>

<span class="cp">#Swift
</span>
<span class="n">let</span> <span class="n">urlstring</span> <span class="o">=</span> <span class="s">"https://api.nuapi.co/v3/profile.json"</span>
<span class="k">if</span> <span class="n">let</span> <span class="n">url</span> <span class="o">=</span> <span class="n">NSURL</span><span class="p">(</span><span class="n">string</span><span class="o">:</span><span class="n">urlstring</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">let</span> <span class="n">session</span> <span class="o">=</span> <span class="n">NSURLSession</span><span class="p">(</span>
        <span class="n">configuration</span><span class="o">:</span> <span class="n">NSURLSessionConfiguration</span><span class="p">.</span><span class="n">defaultSessionConfiguration</span><span class="p">())</span>
    <span class="n">let</span> <span class="n">request</span> <span class="o">=</span> <span class="n">NSMutableURLRequest</span><span class="p">(</span><span class="n">URL</span><span class="o">:</span> <span class="n">url</span><span class="p">)</span>
    <span class="n">request</span><span class="p">.</span><span class="n">HTTPMethod</span> <span class="o">=</span> <span class="s">"PATCH"</span>
    <span class="n">request</span> <span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="n">forHTTPHeaderField</span><span class="o">:</span> <span class="s">"Content-Type"</span><span class="p">)</span>
    <span class="n">request</span> <span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">"Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span><span class="p">,</span> <span class="n">forHTTPHeaderField</span><span class="o">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

    <span class="n">let</span> <span class="n">dictionary</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">"first_name"</span><span class="o">:</span><span class="s">"Gorby"</span><span class="p">,</span>
        <span class="s">"last_name"</span><span class="o">:</span><span class="s">"Puff"</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">var</span> <span class="n">error</span><span class="o">:</span> <span class="n">NSError</span><span class="p">?</span>
    <span class="n">let</span> <span class="n">data</span> <span class="o">=</span> <span class="n">NSJSONSerialization</span><span class="p">.</span><span class="n">dataWithJSONObject</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span><span class="nb">nil</span> <span class="p">,</span> <span class="n">error</span><span class="o">:</span> <span class="o">&amp;</span><span class="n">error</span><span class="p">)</span>


    <span class="n">let</span> <span class="n">uploadTask</span> <span class="o">=</span> <span class="n">session</span><span class="p">.</span><span class="n">uploadTaskWithRequest</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">fromData</span><span class="o">:</span> <span class="n">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Void</span> <span class="k">in</span>
        <span class="k">if</span> <span class="n">error</span> <span class="o">!=</span> <span class="nb">nil</span> <span class="p">{</span>
            <span class="n">println</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// handle response
</span>        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">uploadTask</span><span class="p">.</span><span class="n">resume</span><span class="p">()</span>
<span class="p">}</span>
</pre>
<pre class="highlight java">
</pre>
<pre class="highlight javascript">  <span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
  <span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">"GET"</span><span class="p">,</span> <span class="s2">"https://api.nuapi.co/v3/profile.json"</span><span class="p">);</span>
  <span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Content-Type'</span><span class="p">,</span> <span class="s1">'application/json'</span><span class="p">);</span>
  <span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c'</span><span class="p">);</span>
  <span class="nx">xhr</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">xhr</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// handle the response
</span>      <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">profile</span><span class="p">));</span>
</pre>
<pre class="highlight python">
<span class="kn">import</span> <span class="nn">json</span><span class="o">,</span><span class="nn">httplib</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">httplib</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">'https://api.nuapi.co'</span><span class="p">,</span> <span class="mi">443</span><span class="p">)</span>
<span class="n">connection</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">connection</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">'GET'</span><span class="p">,</span> <span class="s">'/v3/profile.json'</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="p">{</span>
       <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
       <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
     <span class="p">})</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="k">print</span> <span class="n">result</span>

</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns the <a href="#show-profile">user in JSON format</a>.</p>
</blockquote>

<p>Send a profile update as a <code class="prettyprint">PATCH</code> request to the API endpoint.</p>

<p>All health data fields are optional and will display the Users current latest reading from either manually updated data or dynamic data retrieved from connected <a href="#apps-devices">Apps &amp; Devices</a>.</p>

<p>The user&rsquo;s time zone is used to re-set certain scores in the middle
of their night, which is different for different parts in the world.</p>

<p><strong>Custom Data</strong></p>

<p>It is possible to add additional custom data necessary for your own app to a user&rsquo;s profile with the data field. This Hstore-hash will let you add any key =&gt; value pair.</p>

<p>This could be anything, for example:</p>

<p><code class="prettyprint">&quot;blood_type&quot; =&gt; &quot;A&quot;</code></p>

<p><code class="prettyprint">&quot;estimated_due_date&quot; =&gt; &quot;1967-04-20&quot;</code></p>

<p><code class="prettyprint">&quot;diabetes_type&quot; =&gt; &quot;mellitus type 1&quot;</code></p>

<p><code class="prettyprint">&quot;education_level&quot; =&gt; &quot;post graduate&quot;</code></p>

<p>or for storing custom app configuration settings at a server level e.g.</p>

<p><code class="prettyprint">&quot;has_completed_walkthrough&quot; =&gt; true</code>.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource with Bearer Token.
</aside></p>

<p><aside class="success">
Refer to the minimum required health data to be present for using the Nuwe Health Score features.
</aside></p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td></td>
<td>&ldquo;Janet&rdquo;</td>
<td>First name</td>
</tr>
<tr>
<td>last_name</td>
<td></td>
<td>&ldquo;Appleseed&rdquo;</td>
<td>Last name</td>
</tr>
<tr>
<td>sex</td>
<td></td>
<td>&ldquo;F&rdquo;</td>
<td>M or F</td>
</tr>
<tr>
<td>birth_date</td>
<td></td>
<td>&ldquo;1967-04-20&rdquo;</td>
<td>yyyy-mm-dd</td>
</tr>
<tr>
<td>avatar</td>
<td></td>
<td></td>
<td>base64 encoded jpeg as <a href="http://en.wikipedia.org/wiki/Data_URI_scheme">Data URI</a></td>
</tr>
<tr>
<td>activity</td>
<td>2</td>
<td>4</td>
<td>Integer 1-5</td>
</tr>
<tr>
<td>weight</td>
<td></td>
<td>60000</td>
<td>Weight in grams</td>
</tr>
<tr>
<td>height</td>
<td></td>
<td>1740</td>
<td>Height in millimeter</td>
</tr>
<tr>
<td>bpm</td>
<td></td>
<td>89</td>
<td>Heartbeat in beats per minute</td>
</tr>
<tr>
<td>blood_pressure</td>
<td></td>
<td>&ldquo;110/90&rdquo;</td>
<td>Blood pressure in mmHG, sys/dia</td>
</tr>
<tr>
<td>units</td>
<td>metric</td>
<td>&ldquo;metric&rdquo;</td>
<td>metric or imperial</td>
</tr>
<tr>
<td>use_health_data</td>
<td>true</td>
<td>&ldquo;false&rdquo;</td>
<td>Use health data from connected apps</td>
</tr>
<tr>
<td>time_zone</td>
<td></td>
<td>&ldquo;Europe/Sofia&rdquo;</td>
<td>string from the <a href="http://www.iana.org/time-zones">Time Zone Database</a></td>
</tr>
<tr>
<td>data</td>
<td>{}</td>
<td>{&ldquo;blood_type&rdquo; =&gt; &ldquo;AB+&rdquo;}</td>
<td>Hstore-hash that can be filled with any key =&gt; value pair</td>
</tr>
</tbody></table>

<p>The <strong>profile</strong> key in the request is required, but all attributes are optional.</p>

<p>Avatar Data URI is in the format <code>data:image/jpeg;base64,BASE64DATA</code>.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Profile updated</td>
</tr>
<tr>
<td>400</td>
<td>Missing or malformed input fields</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>403</td>
<td>Validation error(s)</td>
</tr>
</tbody></table>

<h2 id="change-password">Change Password</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/update_password.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">user</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">current_password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gorbypuff</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">new_password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">t34msn0wd3n</span><span class="se">\"</span><span class="s2">}}"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns the <a href="#show-profile">user in JSON format</a>.</p>
</blockquote>

<p>This endpoint allows you to update your password. The current password must
be supplied, as well as valid token authentication.</p>

<p><aside class="warning">
Generally, this endpoint is not recommended and will be phased out or heavily restricted for your apps. Instead, you should use the <a href="#password-reset">Password Reset</a> endpoint.
</aside></p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource with Bearer Token.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The password was changed</td>
</tr>
<tr>
<td>400</td>
<td>The current password was not correct</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

<h2 id="password-reset">Password Reset</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/reset_password.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">user</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gorby@example.com</span><span class="se">\"</span><span class="s2">}}"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"reset_password"</span><span class="p">:{</span><span class="s2">"message"</span><span class="p">:</span><span class="s2">"Email was sent with instructions to reset password."</span><span class="p">}}</span><span class="w">
</span></pre>

<p>Initiate password resets for Users with existing Nuwe accounts. Send a <code class="prettyprint">POST</code> request to the <code class="prettyprint">/reset_password.json</code> endpoint with <code class="prettyprint">email</code> in the request body.</p>

<p>An email will be sent to the User with a token that is valid for 24 hours. Clicking the link will open a web page where the User can supply current and new password credentials.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>User is found and email delivered</td>
</tr>
<tr>
<td>404</td>
<td>Email not found</td>
</tr>
</tbody></table>

<h2 id="delete-account">Delete Account</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/profile.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X DELETE
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns the <a href="#show-profile">user in JSON format</a>.</p>
</blockquote>

<p><aside class="warning">
This endpoint is not recommended and will soon be phased out or replaced. It is highly destructive and should be used with caution. We recommend that you use multi-level User acceptance to confirm intention to remove account.
</aside></p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource with Bearer Token.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The user was removed from the database</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

<h2 id="create-device">Create Device</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/devices.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">device</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">token</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">&lt;ce8be627 2e43e855 16033e24 b4c28922 0eeda487 9c477160 b2545e95 b68b5969&gt;</span><span class="se">\"</span><span class="s2">}}"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight plaintext">"devices":[
      {
         "token":"\u003cce8be627 2e43e855 16033e24 b4c28922 0eeda487 9c477160 b2545e95 b68b5969\u003e",
         "created_at":"2014-07-07T21:21:15.427Z"
      }
   ]
</pre>

<p>Create a new <code class="prettyprint">device</code> with associated token (live) or identifier (coming soon) by sending a <code class="prettyprint">POST</code> request to the <code class="prettyprint">/devices.json</code> endpoint, passing the device token in the request body.</p>

<p>Every user is associated with one or more devices. A device is a physical thing
like a phone or tablet. Every device will have a <code class="prettyprint">token</code> which currently represents the
Apple Push Notification device token.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource with Bearer Token.
</aside></p>

<p><aside class="success">
    We can only send Push Notifications to users whose devices have been registered via this API.
</aside></p>

<h3 id="devices">Devices</h3>

<table><thead>
<tr>
<th>Device Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>iOS</td>
<td>Send push notifications to Apple Devices by adding the device token to the User profile</td>
</tr>
</tbody></table>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>The token received from APNs, preferably with the &lt; &gt; characters as a string</td>
</tr>
</tbody></table>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Device created</td>
</tr>
<tr>
<td>400</td>
<td>Missing attributes</td>
</tr>
<tr>
<td>401</td>
<td>Invalid authentication</td>
</tr>
</tbody></table>

<h2 id="index-devices">Index Devices</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/devices.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>This returns the current user’s list of devices:</p>
</blockquote>
<pre class="highlight plaintext">"devices":[
          {
             "token":"\u003cce8be627 2e43e855 16033e24 b4c28922 0eeda487 9c477160 b2545e95 b68b5969\u003e",
             "created_at":"2014-07-07T21:21:15.427Z"
          }
       ]
</pre>

<p>To retrieve all the <code class="prettyprint">devices</code> currently stored for the User, send a <code class="prettyprint">GET</code> request to the <code class="prettyprint">/devices.json/</code> endpoint.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource with Bearer Token.
</aside></p>

<p><aside class="warning">
Note that APNs will inform us from time to time about tokens which must be removed from the pool. This will result in the entire device being removed. It will no longer be present anywhere, and if the user wants to receive Push Notifications again, they must register their device again.
</aside></p>

            <h1 id="nuteam">NUTeam</h1>

<p>Teams will allow users to create arbitrary group structures. Teams could represent a Company, a Department, an interest group, a family - any cluster of individual users.</p>

<p>Team Objects have a number of features, such as setting Team-based Nuscore wellness <code class="prettyprint">goals</code>, sending group level <code class="prettyprint">notifications</code>, inviting and managing of Team members.</p>

<p>When certain Team <code class="prettyprint">goals</code> are met, <code class="prettyprint">achievements</code> are awarded to teams. You can think of milestones: number of days the team has been active, or streaks, when the team has hit a certain goal for a number of days in a row.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h2 id="create-team">Create Team</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/teams.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">team</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">EMEA Equity</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">activity_goal</span><span class="se">\"</span><span class="s2">:80,</span><span class="se">\"</span><span class="s2">biometric_goal</span><span class="se">\"</span><span class="s2">:90,</span><span class="se">\"</span><span class="s2">nutrition_goal</span><span class="se">\"</span><span class="s2">:100}}"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The full response is equal to the <a href="#show-team-details">team details</a>.</p>
</blockquote>

<p>To create a team, just give the name. The current user becomes the owner of this team.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Allowed value</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
</tr>
<tr>
<td>activity_goal</td>
<td>integer between 0 and 100</td>
<td>no</td>
</tr>
<tr>
<td>nutrition_goal</td>
<td>integer between 0 and 100</td>
<td>no</td>
</tr>
<tr>
<td>biometric_goal</td>
<td>integer between 0 and 100</td>
<td>no</td>
</tr>
</tbody></table>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Team created</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

<h2 id="update-team">Update Team</h2>
<pre class="highlight shell"><span class="c"># in this example, 756 is the team id</span>
curl <span class="s2">"https://api.nuapi.co/v3/team/756.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">team</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">EMEA Equity</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">activity_goal</span><span class="se">\"</span><span class="s2">:80,</span><span class="se">\"</span><span class="s2">biometric_goal</span><span class="se">\"</span><span class="s2">:90,</span><span class="se">\"</span><span class="s2">nutrition_goal</span><span class="se">\"</span><span class="s2">:100}}"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The full response is equal to the <a href="#show-team-details">team details</a>.</p>
</blockquote>

<p>Team update works like a create, but updates an existing team&rsquo;s fields.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h2 id="delete-team">Delete Team</h2>
<pre class="highlight shell"><span class="c"># in this example, 756 is the team id</span>
curl <span class="s2">"https://api.nuapi.co/v3/team/756.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
  -X DELETE
</pre>
<pre class="highlight ruby"></pre>
<pre class="highlight objective_c">
</pre>
<pre class="highlight python">
</pre>

<blockquote>
<p>The full response is always a message dictionary, indicating either success or failure. The team in question is included as part of the response.</p>
</blockquote>

<h2 id="get-teams">Get Teams</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/teams.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or 

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/teams.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The response is an array of teams:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"teams"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="err">//</span><span class="w"> </span><span class="err">see</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">team</span><span class="w"> </span><span class="err">details</span><span class="w"> </span><span class="err">page</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">contents</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">individual</span><span class="w"> </span><span class="err">teams.</span><span class="w">
      </span><span class="err">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Users can request a list of all the teams they are in, use the <code class="prettyprint">GET</code> request to the <code class="prettyprint">/teams.json&#39; endpoint using the</code>Bearer Token` auth method to get this data in JSON format.</p>

<p>You can get a list of all the teams created for your app, without the need to auth an individual user. Just pass the <code class="prettyprint">application_id</code> and <code class="prettyprint">client_secret</code> in the Header for the <code class="prettyprint">GET</code> request to the <code class="prettyprint">/teams.json</code> endpoint.</p>

<p><aside class="success">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>List of teams</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

<h2 id="get-team">Get Team</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/teams/8765.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>

or 

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/teams/8765.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>Output:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"team"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1354</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Lesch and Sons"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_goal"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nutrition_goal"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"biometric_goal"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
      </span><span class="s2">"memberships"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="s2">"owner"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="s2">"this is a complete user dictionary, see the API docs"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"achievements"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"streak.nutrition.5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Team O'Kon LLC has reached its nutrition goal for 5 consequetive days. Good job!"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-06-30T18:37:11.522Z"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"milestone.5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Team O'Kon LLC has been tracking for 5 days. Good job!"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-07-07T18:37:11.517Z"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"streak.activity.5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Team O'Kon LLC has reached its activity goal for 5 consequetive days. Good job!"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-07-07T18:37:11.520Z"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"goal.activity"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Activity goal for team O'Kon LLC unlocked. Time to relax. But not too long!"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-07-07T18:37:11.525Z"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"highest.activity"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Team O'Kon LLC has reached its highest activity score ever."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-07-07T18:37:11.528Z"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Get specific team information, including all memberships and achievements.</p>

<p>The example expects team <code class="prettyprint">8765</code> to exist and that the current user is a member
of this team. When both are not true, a <code class="prettyprint">404</code> will be returned.</p>

<h3 id="achievements">Achievements</h3>

<p>Team achievements are given as an ordered array, oldest achievement first.
The achievement <code class="prettyprint">name</code> is a formatted string that indicates the type of
achievement. It must be translated/humanized before it is presented to a
person. The achievement description is presentable to the user, as it will
be localised server-side.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>streak.activity.5</td>
<td>5 consecutive days of hitting the <code class="prettyprint">activity</code> target</td>
</tr>
<tr>
<td>milestone.5</td>
<td>team has been active for 5 days</td>
</tr>
<tr>
<td>goal.activity</td>
<td>the <code class="prettyprint">activity</code> goal was hit for the first time</td>
</tr>
<tr>
<td>highest.activity</td>
<td>the highest ever <code class="prettyprint">activity</code> goal was hit</td>
</tr>
</tbody></table>

<p><aside class="notice">
The number 5 in the table can be a different number for each achievement.
The string <code class="prettyprint">activity</code> can be either one of the three score types (biometric,
activity, and nutrition).
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Team information</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>404</td>
<td>Team not found or current user not a member</td>
</tr>
</tbody></table>

<h2 id="team---add-a-member">Team - Add a Member</h2>
<pre class="highlight shell"><span class="c"># 12 is the id of the team, 1000 is the id of the user to add</span>
curl <span class="s2">"https://api.nuapi.co/v3/teams/12/memberships.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">membership</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">user_id</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1000</span><span class="se">\"</span><span class="s2">}}"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The response is the <a href="/#teams">complete team output</a>.</p>
</blockquote>

<p>First, <a href="/#search">search for a member</a> using the search API. When you have the ids of the
members to add to the team, send these to the following endpoint, using the id of the
team in the URL and the id of the member to add in the request body.</p>

<h2 id="delete-a-member">Delete a member</h2>
<pre class="highlight shell"><span class="c"># 12 is the id of the team, 1000 is the id of the user to remove</span>
<span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/teams/12/memberships/1000.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X DELETE

or 

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/teams/12/memberships/1000.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
  -X DELETE
</pre>
<pre class="highlight ruby"></pre>

<p>Remove a member of the team, by making a <code class="prettyprint">DELETE</code> request to the <code class="prettyprint">/teams/{team_id}/memberships/{membership_id}.json</code> endpoint.</p>

<p><aside class="success">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<p><aside class="warning">
Only the owner of the team can delete arbitrary members.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Member removed from team</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>404</td>
<td>Team not found or current user not a member</td>
</tr>
</tbody></table>

<h2 id="get-team-scores">Get Team Scores</h2>

<p>Go to NUScore section to see how to get the <a href="/#team-scores">team&rsquo;s historical scores.</a> </p>

<h2 id="leave-a-team">Leave a Team</h2>
<pre class="highlight shell"><span class="c"># 12 is the id of the team</span>
curl <span class="s2">"https://api.nuapi.co/v3/teams/12/membership.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X DELETE
</pre>
<pre class="highlight ruby"></pre>

<p>The <code class="prettyprint">current_user</code> can leave teams they are in.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Member removed from team</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>404</td>
<td>Team not found or current user not a member</td>
</tr>
</tbody></table>

<h2 id="send-team-invitations">Send Team Invitations</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/teams/12/invitations.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">invitation</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">myfriend@example.com</span><span class="se">\"</span><span class="s2">}}"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The invitation is returned in the response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"invitation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@spinkawilliamson.name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"team"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2608</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hayes-Nicolas"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"activity_goal"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"nutrition_goal"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"biometric_goal"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"memberships"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"achievements"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Invite someone to become part of the team. It requires an email
field. You can use the search function to find people already in the
database, or use an entirely new email address.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Invitation sent</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>404</td>
<td>Team not found or current user not a member</td>
</tr>
<tr>
<td>429</td>
<td>Rate limiting is active</td>
</tr>
</tbody></table>

<p><aside class="warning">
Access to this resource is subject to rate limiting.
</aside></p>

<h2 id="send-team-push-notifications">Send Team Push Notifications</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/teams/12/notifications.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">notification</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">text</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Hi team!</span><span class="se">\"</span><span class="s2">}}"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The notification is returned in the response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">  
   </span><span class="s2">"notification"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"text"</span><span class="p">:</span><span class="s2">"Hi team!"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Create an Apple Push Notification which will be sent to all members of the team.
Notifications can be created by all team members.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Notification created</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>404</td>
<td>Team not found or current user not a member</td>
</tr>
<tr>
<td>429</td>
<td>Rate limiting is active</td>
</tr>
</tbody></table>

<p><aside class="warning">
Access to this resource is subject to rate limiting.
</aside></p>

            <h1 id="nuappsdevices">NUAppsDevices</h1>

<h2 id="get-supported-apps">Get Supported Apps</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/apps.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The response of the App API is always the full list, with keys for the categories:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">  
   </span><span class="s2">"apps"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"nutrition"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"provider"</span><span class="p">:</span><span class="s2">"nutribu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Nutribu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Nutribu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"icon"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/providers/nutribu.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"connected"</span><span class="p">:</span><span class="kc">true</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"activity"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"provider"</span><span class="p">:</span><span class="s2">"m7"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Apple M7"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Apple's built-in M7 Motion Coprocessor"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"icon"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/providers/m7.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"connected"</span><span class="p">:</span><span class="kc">false</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"provider"</span><span class="p">:</span><span class="s2">"withings"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Withings"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Withings"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"icon"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/providers/withings.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"connected"</span><span class="p">:</span><span class="kc">true</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"provider"</span><span class="p">:</span><span class="s2">"moves"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Moves"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Moves"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"icon"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/providers/moves.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"connected"</span><span class="p">:</span><span class="kc">false</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"provider"</span><span class="p">:</span><span class="s2">"fitbit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Fitbit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Fitbit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"icon"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/providers/fitbit.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"connected"</span><span class="p">:</span><span class="kc">false</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"provider"</span><span class="p">:</span><span class="s2">"humanapi"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Human API"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Human API"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"icon"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/providers/humanapi.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"connected"</span><span class="p">:</span><span class="kc">false</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"biometric"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"provider"</span><span class="p">:</span><span class="s2">"withings"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Withings"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Withings"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"icon"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/providers/withings.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"connected"</span><span class="p">:</span><span class="kc">true</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"provider"</span><span class="p">:</span><span class="s2">"humanapi"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Human API"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Human API"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"icon"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/providers/humanapi.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"connected"</span><span class="p">:</span><span class="kc">false</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>The Apps endpoint shows a list of all apps supported by Nuwe, with an indication whether the user has connected this app. Connected apps appear at the front of the list, and the user is free to rearrange the position for her connected apps. Apps can be disconnected using this API, but not connected. Apps have specific Client SDKs to make the connection, which are out of API scope.</p>

<p>Returns the list of all apps supported by Nuwe, plus an indication if the app is connected.</p>

<p>Current Supported Apps:</p>

<table><thead>
<tr>
<th>App</th>
<th>Source</th>
</tr>
</thead><tbody>
<tr>
<td>Moves</td>
<td>Direct Integration</td>
</tr>
<tr>
<td>Withings</td>
<td>Direct Integration</td>
</tr>
<tr>
<td>Fitbit</td>
<td>Direct Integration</td>
</tr>
<tr>
<td>Jawbone</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>23andMe</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>MyFitnessPal</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>Garmin</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>FatSecret</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>Moveable</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>MapMyFitness</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>Runkeeper</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>iHealth</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>Vitadock</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>DailyMile</td>
<td>Via HumanAPI Service</td>
</tr>
<tr>
<td>Fitbug</td>
<td>Via HumanAPI Service</td>
</tr>
</tbody></table>

<p>You can help us prioritise new integrations by adding your suggestions to our <a href="https://trello.com/b/MmqlJvxv/nuwe-platform">public roadmap</a></p>

<p>Nuwe handles the server side processing of data from these services, on your behalf. But to do the oauth dance between your app, the user and the service takes a bit of extra work.</p>

<p>Our client SDKs will have support for the API wrappers and ready integrated UI templates for managing this process.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>List of all apps</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="success">
You must enable the &ldquo;Apps &amp; Devices&rdquo; Service in your app settings to use this resource.
</aside></p>

<h2 id="update-app-priority-order">Update App Priority Order</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/apps/withings.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c </span><span class="se">\</span><span class="s2">
  -X PATCH </span><span class="se">\</span><span class="s2">
  -d "</span><span class="o">{</span><span class="se">\"</span>app<span class="se">\"</span>:<span class="o">{</span><span class="se">\"</span>position<span class="se">\"</span>:<span class="se">\"</span>2<span class="se">\"</span><span class="o">}}</span><span class="s2">"
</span></pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>See the <a href="/#apps">apps documentation</a> for the response format.</p>
</blockquote>

<p>The update action only allows the position of connected apps to be updated. The main reason for doing this is to tell the server how to prioritise the data received from different services, where there could easily be duplicate data collected for certain tracking activities.</p>

<p>Apps are sorted by position, ascending. All other fields are off-limits. When you update an app that was not previously connected by the user, the API returns a 404.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Allowed value</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>position</td>
<td>integer</td>
<td>no</td>
</tr>
</tbody></table>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>App was updated</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>404</td>
<td>App not connected by user</td>
</tr>
</tbody></table>

<h2 id="delete-app">Delete App</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/apps/withings.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X DELETE
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>See the <a href="/#apps">apps documentation</a> for the response format.</p>
</blockquote>

<p>Remove the connection with the given app. New health data will not be synchronized with Nuwe. Previous health data will not be removed.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Connection with the app was removed</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>404</td>
<td>App not connected by user</td>
</tr>
</tbody></table>

            <h1 id="notifications">Notifications</h1>

<p>Subscribe to notifications from Nuwe, instead of polling for changes to endpoints.</p>

<p>This is a Demo feature that requires the use of the <a href="http://pusher.com">Pusher</a> Service. Please activate this in your app in the Nuwe Developer Platform.</p>

<p>You will need to implement the appropriate Pusher client-side SDK for your development platform.</p>

<h2 id="pusher-setup">Pusher Setup</h2>
<pre class="highlight shell"><span class="c"># 13419 is Gorby Puff's user id</span>
<span class="c"># 123 is the socket id, as provided by the Pusher SDK</span>
curl <span class="s2">"https://api.nuapi.co/v3/pusher/auth.json?socket_id=123&amp;channel_name=private-nuwe-13419"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
  -X POST
</pre>

<blockquote>
<p>It returns JSON with an authorization code:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"auth"</span><span class="p">:</span><span class="s2">"278d425bdf160c739803:a99e78e7cd40dcd0d4ae06be0a5395b6cd3c085764229fd40b39ce92c39af33e"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Every client must subscribe to a private channel named <strong>private-nuwe-ID</strong> where <code class="prettyprint">ID</code> is the user id. So, user with id 57 must subscribe to channel <strong>private-nuwe-57</strong>.</p>

<p>In order to receive events, the client must also authorize with the Pusher endpoint. See the API on the right. This will give an <a href="http://pusher.com/docs/authenticating_users">authorization response</a> that must be used in the Pusher SDK. A user can only subscribe to her own channel.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Authorization granted</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials or not user&rsquo;s own channel</td>
</tr>
<tr>
<td>404</td>
<td>Channel name not found</td>
</tr>
</tbody></table>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h2 id="event:-app-connected">Event: App connected</h2>

<p>This event is emitted when an app was connected.</p>

<p>It should occur fairly quickly after initiating the app connection, and is useful for progressing the UI into the next state.</p>

<table><thead>
<tr>
<th>Event name</th>
<th>Payload</th>
</tr>
</thead><tbody>
<tr>
<td>app-connected</td>
<td><code class="prettyprint">{provider: &quot;moves&quot;}</code></td>
</tr>
</tbody></table>

<h2 id="event:-health-data-updated">Event: Health data updated</h2>

<p>This event is emitted when health data for an app has been fetched in the background.</p>

<p>It takes a while longer than the <code class="prettyprint">app-connected</code> event, depending on the amount of data that needs to be synchronised. When the health-data-updated event occurs, the historical and current scores for the user have been updated as a result of synchronising with the given provider. The complete Profile JSON is part of the event payload and can be used to update profile state on the client.</p>

<table><thead>
<tr>
<th>Event name</th>
<th>Payload</th>
</tr>
</thead><tbody>
<tr>
<td>health-data-updated</td>
<td><code class="prettyprint">{provider: &quot;moves&quot;, user: {the user JSON object}}</code></td>
</tr>
</tbody></table>

            <h1 id="errors">Errors</h1>

<blockquote>
<p>Example error response</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"Email has already been taken"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Email can't be blank"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>When there is an error in the request, the API returns a JSON dictionary
that contains the error messages. These should be shown to the
user. The <code class="prettyprint">message</code> key contains an array of sentences with error responses.</p>

<p>Each API endpoint will have different error responses, depending on the
attributes that are invalid. When there is an error, the HTTP status code
4xx or 5xx is returned instead of 2xx.</p>

            <h1 id="nuscore">NUScore</h1>

<p>The NUScore is our own, patent-pending, Wellness Scoring system.</p>

<p>The NUScore takes health and wellness data collected from apps &amp; devices and based on our own algorithm built in conjunction with nutritionists, exercise physiologists and medical professionals, turns all that data into a single, easy to understand language. One number. The NUScore.</p>

<p>This is a constantly evolving feature, that we&rsquo;ve made available to developers to use as you like, as you feel appropriate, within your applications.</p>

<p>Check out our blog for inspiration and examples of practical uses of the NUScore feature.</p>

<p><aside class="warning">
<strong>Prequisites</strong>
You need values for height, weight, age, and gender before the nutrition score and nutritional breakdown can be calculated. When the input values are missing, everything related to nutrition will be missing too.
</aside></p>

<h2 id="user-history">User History</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/nu/scores.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"scores"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-11-23"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"biometric_score"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">80</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"activity_score"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">78</span><span class="p">},</span><span class="w">
        </span><span class="s2">"nutrition_score"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">12</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"nu_score"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">56</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"breakdown"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"breakdown"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="w">
            </span><span class="s2">"breakdown"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"kcal"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"302.4"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"15.777693138477431742172458951"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"protein"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"6.312"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"9.666607197277504002307398143285671477"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"fibre"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"11.52"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"48.0"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"carbs"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"55.464"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"27.752868692909727671753704574135869445"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"fat_u"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"1.2384"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"2.853225827531543658851683391919039405"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"fat_s"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"0.2448"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"1.406542849805242375593899386807153618"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"salt"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"sugar"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">above</span><span class="w"> </span><span class="err">dictionary</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">repeated</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">each</span><span class="w"> </span><span class="err">day</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Return historical scores for the user by making a <code class="prettyprint">GET</code> request to the <code class="prettyprint">nu/scores.json</code> endpoint.</p>

<p>You can use the <code class="prettyprint">days</code> request parameter to show more or less days than the default,
which is 30. </p>

<p>The nutritional breakdown is also given.</p>

<p>This will not include today&rsquo;s score, the API starts from yesterday and goes backwards.</p>

<p><aside class="warning">
    If a user has no <code class="prettyprint">DCN</code> (calculation of Daily Calorific Need, derived from the prequisite Profile fields, the <code class="prettyprint">breakdown</code> field will remain empty.
</aside></p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value(s)</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>days</td>
<td>1-30</td>
<td>30</td>
<td>Number of days to show</td>
</tr>
</tbody></table>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The authenticated user&rsquo;s historical scores</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

<h2 id="user-today">User Today</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/nu/scores/today.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
</span><span class="s2">"historical_score"</span><span class="p">:</span><span class="w">
   </span><span class="p">{</span><span class="w">
   </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">4355</span><span class="p">,</span><span class="w">
   </span><span class="s2">"history_id"</span><span class="p">:</span><span class="mi">8759</span><span class="p">,</span><span class="w">
   </span><span class="s2">"history_type"</span><span class="p">:</span><span class="s2">"User"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-08-26"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"nu"</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span><span class="w">
   </span><span class="s2">"biometric"</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span><span class="w">
   </span><span class="s2">"activity"</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span><span class="w">
   </span><span class="s2">"nutrition"</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span><span class="w">
   </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-08-26T10:20:43.622Z"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-08-26T10:20:43.622Z"</span><span class="p">},</span><span class="w">
</span><span class="s2">"breakdown"</span><span class="p">:{</span><span class="w">
   </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
   </span><span class="s2">"breakdown"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"kcal"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"302.4"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"9.726600192988099067"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"protein"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"6.312"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"5.959250354621417050984493845890053707422412227"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"fibre"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"11.52"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"48.0"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"carbs"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"55.464"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"17.109032075552128100694834661861569404461813858"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"fat_u"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"1.2384"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"1.758950858096423987847482078547440510526713271"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"fat_s"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"0.2448"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"0.867102676816411136128086916130606351769346139"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"salt"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"sugar"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"g"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"perc"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Return today&rsquo;s <code class="prettyprint">scores</code> for the <code class="prettyprint">user</code> by making a <code class="prettyprint">GET</code> request to <code class="prettyprint">nu/scores/today.json</code> endpoint. The score includes the historical scores for that day - <code class="prettyprint">Nu</code>,<code class="prettyprint">Biometric</code>, <code class="prettyprint">Activity</code> and <code class="prettyprint">Nutrition</code> - and a nutritional breakdown for all the <code class="prettyprint">eats</code> for that user for that day.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The authenticated user&rsquo;s today scores</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

<h2 id="user-week">User Week</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/nu/scores/week.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"scores"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-26"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"breakdown"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"scores"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1393</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-26"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kcal_g"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38.6"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kcal_perc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.27"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"protein_g"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.744"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"protein_perc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68.816"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"fibre_g"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"fibre_perc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"carbs_g"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"carbs_perc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"fat_u_g"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.5104"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"fat_u_perc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.944"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"fat_s_g"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.7168"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"fat_s_perc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.472"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"salt_g"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.606"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"salt_perc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.1"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sugar_g"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sugar_perc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-27T14:52:54.749Z"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-27T14:52:54.749Z"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"historical_score"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"scores"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">785</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"history_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1393</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"history_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-26"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"nu"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"biometric"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"activity"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"nutrition"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-27T14:52:54.724Z"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-27T14:52:54.724Z"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">above</span><span class="w"> </span><span class="err">dictionary</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">repeated</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">each</span><span class="w"> </span><span class="err">day</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Return a week&rsquo;s worth of scores for the user (excluding today), by making a <code class="prettyprint">GET</code> request to the <code class="prettyprint">/nu/scores/week.json</code> endpoint. </p>

<p>The scores are divided in breakdown (which gives the nutritional breakdown for all the eats for that user) and the historical_scores (which gives the <code class="prettyprint">nuscore</code>, <code class="prettyprint">biometric score</code>, <code class="prettyprint">activity score</code> and <code class="prettyprint">nutrition score</code> for that user for that day.)</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The authenticated user&rsquo;s weeks scores</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

<h2 id="team-history">Team History</h2>
<pre class="highlight shell"><span class="c"># Team id = 1, days parameter = 7</span>
curl <span class="s2">"https://api.nuapi.co/v3/nu/teams/1/scores.json?days=7"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="err">{</span><span class="s2">"scores"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-09-08"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"biometric_score"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">80</span><span class="p">},</span><span class="w">
      </span><span class="s2">"activity_score"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">60</span><span class="p">},</span><span class="w">
      </span><span class="s2">"nutrition_score"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">40</span><span class="p">},</span><span class="w">
      </span><span class="s2">"nu_score"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">60</span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">

      </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">above</span><span class="w"> </span><span class="err">dictionary</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">repeated</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">each</span><span class="w"> </span><span class="err">day</span><span class="w">

      </span><span class="p">]}</span><span class="w">

</span></pre>

<p>Works the same as index (day) scores for individual user, team scores shows the scores for the Team. Removing the &lsquo;days&rsquo; parameter shows you the default 30 days.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The authenticated team&rsquo;s scores</td>
</tr>
<tr>
<td>401</td>
<td>Invalid login credentials</td>
</tr>
</tbody></table>

            <h1 id="nutrition">Nutrition</h1>

<p>Working with food data is complex, and frankly, due to the many fragmented and incomplete data sets, pretty laborious work - yet critical for many wellness applications to consider in its application.</p>

<p>We&rsquo;ve created a thorough set of features to make it very easy to incorporate all aspects of food &amp; nutrition into your product without having to deal with all the hassle.</p>

<p>Everything from working with macro and micro nutrients, ingredients, recipes and user generated meals content, UPC product data - great with bar code scanning! to tracking features of Users food consumption for all of these items.</p>

<h1 id="ingredients">Ingredients</h1>

<h2 id="get-usda-ingredients">Get USDA Ingredients</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/usda_ingredients.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/usda_ingredients.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"usda_ingredients"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2047</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"CEREALS,FARINA,ENR,ASSORTED BRANDS,QUICK,CKD W/ H2O,WO/ SALT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0182"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.109044"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.55"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.008"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00066"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00164"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"salt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00044999999999999993"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0076"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="s2">"detailed"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"proximates"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"water"</span><span class="p">:</span><span class="s2">"86.55"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"energy"</span><span class="p">:</span><span class="s2">"55.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sugars"</span><span class="p">:</span><span class="s2">"0.76"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"1.82"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_lipid"</span><span class="p">:</span><span class="s2">"0.34"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_dietary_fibre"</span><span class="p">:</span><span class="s2">"0.8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"carbohydrate_by_difference"</span><span class="p">:</span><span class="s2">"10.92"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"minerals"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"iron"</span><span class="p">:</span><span class="s2">"5.33"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"zinc"</span><span class="p">:</span><span class="s2">"0.23"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sodium"</span><span class="p">:</span><span class="s2">"18.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"calcium"</span><span class="p">:</span><span class="s2">"97.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"magnesium"</span><span class="p">:</span><span class="s2">"7.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"potassium"</span><span class="p">:</span><span class="s2">"23.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phosphorus"</span><span class="p">:</span><span class="s2">"37.0"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"vitamins"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"thiamin"</span><span class="p">:</span><span class="s2">"0.126"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_d"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_k"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"folate_dfe"</span><span class="p">:</span><span class="s2">"119.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"riboflavin"</span><span class="p">:</span><span class="s2">"0.065"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_b6"</span><span class="p">:</span><span class="s2">"0.096"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_b12"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_a_iu"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_a_rae"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_e_alpha_tocopheral"</span><span class="p">:</span><span class="s2">"0.04"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_c_total_ascorbic_acid"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"lipids"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"cholesterol"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fatty_acids_total_saturated"</span><span class="p">:</span><span class="s2">"0.066"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fatty_acids_total_monounsaturated"</span><span class="p">:</span><span class="s2">"0.038"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fatty_acids_total_polyunsaturated"</span><span class="p">:</span><span class="s2">"0.126"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"other"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"caffeine"</span><span class="p">:</span><span class="s2">""</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"portions"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"1.0 cup"</span><span class="p">:</span><span class="s2">"240.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0.75 cup"</span><span class="p">:</span><span class="s2">"179.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"1.0 tbsp"</span><span class="p">:</span><span class="s2">"14.9"</span><span class="w">
          </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p><code class="prettyprint">GET</code> USDA Ingredients list</p>

<p>A paginated list of ingredients.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource. This resource accepts EITHER the Bearer Token or valid Nuwe Developer App ID and Secret as authentication scope.
</aside></p>

<p><aside class="success">
You must switch on the <strong>USDA Ingredients</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h2 id="get-usda-ingredients-by-name">Get USDA Ingredients by Name</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/usda_ingredients.json?name=banana"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/usda_ingredients.json?name=banana"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"usda_ingredients"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">576</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"BABYFOOD,FRUIT,BANANAS\u0026PNAPPL W/TAPIOCA,JR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.18299900000000002"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.68"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.016"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00035999999999999997"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00029"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"salt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.08410000000000001"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="s2">"detailed"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"proximates"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"water"</span><span class="p">:</span><span class="s2">"81.1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"energy"</span><span class="p">:</span><span class="s2">"68.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sugars"</span><span class="p">:</span><span class="s2">"8.41"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_lipid"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_dietary_fibre"</span><span class="p">:</span><span class="s2">"1.6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"carbohydrate_by_difference"</span><span class="p">:</span><span class="s2">"18.4"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"minerals"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"iron"</span><span class="p">:</span><span class="s2">"0.13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"zinc"</span><span class="p">:</span><span class="s2">"0.03"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sodium"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"calcium"</span><span class="p">:</span><span class="s2">"7.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"magnesium"</span><span class="p">:</span><span class="s2">"6.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"potassium"</span><span class="p">:</span><span class="s2">"78.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phosphorus"</span><span class="p">:</span><span class="s2">"5.0"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"vitamins"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"thiamin"</span><span class="p">:</span><span class="s2">"0.015"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_d"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_k"</span><span class="p">:</span><span class="s2">"0.6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"folate_dfe"</span><span class="p">:</span><span class="s2">"6.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"riboflavin"</span><span class="p">:</span><span class="s2">"0.019"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_b6"</span><span class="p">:</span><span class="s2">"0.092"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_b12"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_a_iu"</span><span class="p">:</span><span class="s2">"40.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_a_rae"</span><span class="p">:</span><span class="s2">"2.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_e_alpha_tocopheral"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vitamin_c_total_ascorbic_acid"</span><span class="p">:</span><span class="s2">"21.2"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"lipids"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"cholesterol"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fatty_acids_total_saturated"</span><span class="p">:</span><span class="s2">"0.036"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fatty_acids_total_monounsaturated"</span><span class="p">:</span><span class="s2">"0.009"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fatty_acids_total_polyunsaturated"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"other"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"caffeine"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"portions"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"1.0 oz"</span><span class="p">:</span><span class="s2">"28.35"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"1.0 jar"</span><span class="p">:</span><span class="s2">"170.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"1.0 tbsp"</span><span class="p">:</span><span class="s2">"15.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"1.0 jar Heinz Junior-3 (6 oz)"</span><span class="p">:</span><span class="s2">"170.0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"1.0 jar Gerber Third Foods (6 oz)"</span><span class="p">:</span><span class="s2">"170.0"</span><span class="w">
          </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p><code class="prettyprint">GET</code> USDA Ingredients by Name Search</p>

<p>A paginated list of ingredients by name.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource. This resource accepts EITHER the Bearer Token or valid Nuwe Developer App ID and Secret as authentication scope.
</aside></p>

<p><aside class="success">
You must switch on the <strong>USDA Ingredients</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>For example:
<code class="prettyprint">GET /v3/usda_ingredients.json?name=banana&amp;per_page=30&amp;page=1</code></p>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h2 id="get-simple-ingredients">Get Simple Ingredients</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/simple_ingredients.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/simple_ingredients.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"simple_ingredients"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Orange"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ingredient_group_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"small_portion"</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="s2">"medium_portion"</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="s2">"large_portion"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="s2">"summary"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"0.0074"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"0.0148"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"0.467"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.0109"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.000183"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.000616"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.000048"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"0.08853"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="s2">"detailed"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"proximates"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="s2">"minerals"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="s2">"vitamins"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="s2">"lipids"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="s2">"other"</span><span class="p">:{}</span><span class="w">
        </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p><code class="prettyprint">GET</code> Nuwe Simple Ingredients list</p>

<p>A paginated list of simple ingredients.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource. This resource accepts EITHER the Bearer Token or valid Nuwe Developer App ID and Secret as authentication scope.
</aside></p>

<p><aside class="success">
You must switch on the <strong>USDA Ingredients</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h2 id="get-simple-ingredients-by-name">Get Simple Ingredients by Name</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/simple_ingredients.json?name=orange"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/simple_ingredients.json?name=orange"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"simple_ingredients"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Orange"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ingredient_group_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"small_portion"</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="s2">"medium_portion"</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="s2">"large_portion"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="s2">"summary"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"0.0074"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"0.0148"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"0.467"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.0109"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.000183"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.000616"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.000048"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"0.08853"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="s2">"detailed"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"proximates"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="s2">"minerals"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="s2">"vitamins"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="s2">"lipids"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="s2">"other"</span><span class="p">:{}</span><span class="w">
        </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p><code class="prettyprint">GET</code> Nuwe Simple Ingredients by Name Search</p>

<p>A paginated list of simple ingredients by name.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource. This resource accepts EITHER the Bearer Token or valid Nuwe Developer App ID and Secret as authentication scope.
</aside></p>

<p><aside class="success">
You must switch on the <strong>USDA Ingredients</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>For example:
<code class="prettyprint">GET /v3/usda_ingredients.json?name=banana&amp;per_page=30&amp;page=1</code></p>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h2 id="get-ingredients-groups">Get Ingredients Groups</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/ingredient_groups.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/ingredient_groups.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"ingredient_groups"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Fruit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"icon"</span><span class="p">:{</span><span class="w">

</span><span class="s2">"tiny"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/ingredient_groups/icons/000/000/001/tiny/food_fruit_2x.png?1409922310"</span><span class="p">,</span><span class="w">

</span><span class="s2">"small"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/ingredient_groups/icons/000/000/001/small/food_fruit_2x.png?1409922310"</span><span class="p">,</span><span class="w">

</span><span class="s2">"medium"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/ingredient_groups/icons/000/000/001/medium/food_fruit_2x.png?1409922310"</span><span class="p">},</span><span class="w">

      </span><span class="s2">"ingredients"</span><span class="p">:</span><span class="w">
        </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Banana"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ingredient_group_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"small_portion"</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span><span class="w">
          </span><span class="s2">"medium_portion"</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span><span class="w">
          </span><span class="s2">"large_portion"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="s2">"summary"</span><span class="p">:</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"0.0109"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"0.0801"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"0.89"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.026"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.00112"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.00105"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.000025"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"0.1223"</span><span class="w">
            </span><span class="p">},</span><span class="w">
          </span><span class="s2">"detailed"</span><span class="p">:</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"proximates"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"minerals"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"vitamins"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"lipids"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"other"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Orange"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ingredient_group_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"small_portion"</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span><span class="w">
          </span><span class="s2">"medium_portion"</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span><span class="w">
          </span><span class="s2">"large_portion"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="s2">"summary"</span><span class="p">:</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"0.0074"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"0.0148"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"0.467"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.0109"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.000183"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.000616"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.000048"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"0.08853"</span><span class="w">
            </span><span class="p">},</span><span class="w">
          </span><span class="s2">"detailed"</span><span class="p">:</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"proximates"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"minerals"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"vitamins"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"lipids"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"other"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Apple"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ingredient_group_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"small_portion"</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span><span class="w">
          </span><span class="s2">"medium_portion"</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span><span class="w">
          </span><span class="s2">"large_portion"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="s2">"summary"</span><span class="p">:</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"0.002675"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"0.006525"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"0.5225"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.02225"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.000438"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.000892"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.000019"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"0.107775"</span><span class="w">
            </span><span class="p">},</span><span class="w">
          </span><span class="s2">"detailed"</span><span class="p">:</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"proximates"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"minerals"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"vitamins"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"lipids"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
              </span><span class="s2">"other"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]}</span><span class="w">
</span></pre>

<p>The ingredients groups endpoint is an opinionated, curated list of Ingredients, grouped according to their category. For example:</p>

<table><thead>
<tr>
<th>Raw Ingredients (USDA)</th>
<th>Ingredient Name</th>
<th>Ingredient Group</th>
</tr>
</thead><tbody>
<tr>
<td>Chicken breast - raw</td>
<td>Chicken</td>
<td>Poultry</td>
</tr>
</tbody></table>

<p>Ingredients themselves are grouped into <code class="prettyprint">simple ingredients</code>, rather than the multi-variant options provided by databases, like the USDA, where you could be showing 10&rsquo;s of options for a single ingredient like chicken. This is an opinionated approach to simplifying Ingredients data according to a nutrition comparison tolerance.</p>

<p>This ingredient grouping exercise was conducted by Nuwe, alongside qualified nutritionists, for use in the Nutribu iOS demo app and can be seen in the <a href="https://github.com/nuwehq/nuwe-simple-eats-ios">Simple Eats</a> library for iOS.</p>

<p>For the Simple Eats library, we also defined default portion sizes, to simplify amount specification in the apps. You can see these in the <code class="prettyprint">small_portion</code>, <code class="prettyprint">medium_portion</code> and <code class="prettyprint">large_portion</code> attributes of the Ingredient Group JSON response.</p>

<p>These default portion sizes can be customised for your application (developer portal feature coming soon).</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource. This resource accepts EITHER the Bearer Token or valid Nuwe Developer App ID and Secret as authentication scope.
</aside></p>

<p><aside class="success">
You must switch on the <strong>USDA Ingredients</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>A valid GET request was made</td>
</tr>
</tbody></table>

<h1 id="meals-/-recipes">Meals / Recipes</h1>

<h2 id="meal-class">Meal Class</h2>

<blockquote>
<p>Example Meal JSON:</p>
</blockquote>
<pre class="highlight shell"><span class="o">{</span>
  <span class="s2">"meal"</span>:<span class="o">{</span>
    <span class="s2">"name"</span>:<span class="s2">"Chocolate cake"</span>,
    <span class="s2">"id"</span>:2945,
    <span class="s2">"user_id"</span>:15,
    <span class="s2">"type"</span>:<span class="s2">"dinner"</span>,
    <span class="s2">"creator"</span>:<span class="o">{</span>
      <span class="s2">"name"</span>:<span class="s2">"Lady Wehner"</span>,
      <span class="s2">"avatar"</span>:<span class="o">{</span>
        <span class="s2">"tiny"</span>:<span class="s2">"http://www.example.com/avatars/tiny/missing.png"</span>,
        <span class="s2">"small"</span>:<span class="s2">"http://www.example.com/avatars/small/missing.png"</span>,
        <span class="s2">"medium"</span>:<span class="s2">"http://www.example.com/avatars/medium/missing.png"</span><span class="o">}</span>
      <span class="o">}</span>,
    <span class="s2">"preview"</span>:<span class="o">{</span>
      <span class="s2">"nutrient_totals"</span>:<span class="o">{</span>
        <span class="s2">"kcal"</span>:<span class="s2">"144.3"</span>,
        <span class="s2">"protein"</span>:<span class="s2">"2.623"</span>,
        <span class="s2">"fibre"</span>:<span class="s2">"7.42"</span>,
        <span class="s2">"carbs"</span>:<span class="s2">"9.687"</span>,
        <span class="s2">"fat_u"</span>:<span class="s2">"0.3355"</span>,
        <span class="s2">"fat_s"</span>:<span class="s2">"0.1524"</span>,
        <span class="s2">"salt"</span>:<span class="s2">"0.34675"</span>,
        <span class="s2">"sugar"</span>:<span class="s2">"18.041"</span><span class="o">}</span>,
      <span class="s2">"predicted_nutrient_totals"</span>:<span class="o">{</span>
        <span class="s2">"kcal"</span>:<span class="s2">"144.3"</span>,
        <span class="s2">"protein"</span>:<span class="s2">"2.623"</span>,
        <span class="s2">"fibre"</span>:<span class="s2">"7.42"</span>,
        <span class="s2">"carbs"</span>:<span class="s2">"9.687"</span>,
        <span class="s2">"fat_u"</span>:<span class="s2">"0.3355"</span>,
        <span class="s2">"fat_s"</span>:<span class="s2">"0.1524"</span>,
        <span class="s2">"salt"</span>:<span class="s2">"0.34675"</span>,
        <span class="s2">"sugar"</span>:<span class="s2">"18.041"</span><span class="o">}</span>,
      <span class="s2">"predicted_nutrient_perc"</span>:<span class="o">{</span>
        <span class="s2">"kcal"</span>:<span class="s2">"4.641363782566741718"</span>,
        <span class="s2">"protein"</span>:<span class="s2">"2.476412180001897484906895969228392090394326247"</span>,
        <span class="s2">"fibre"</span>:<span class="s2">"30.916666666666666667"</span>,
        <span class="s2">"carbs"</span>:<span class="s2">"2.988157971222296713389421306964031134087364612"</span>,
        <span class="s2">"fat_u"</span>:<span class="s2">"0.476524558213299618800735010782191772675801278"</span>,
        <span class="s2">"fat_s"</span>:<span class="s2">"0.539813921351393207295426658571504934679936078"</span>,
        <span class="s2">"salt"</span>:<span class="s2">"5.779166666666666666666666667"</span>,
        <span class="s2">"sugar"</span>:<span class="s2">"14.16887445315105364003575607728348387297262498"</span><span class="o">}</span>,
      <span class="s2">"prediction"</span>:<span class="o">{</span>
        <span class="s2">"score"</span>:7,
        <span class="s2">"difference"</span>:7<span class="o">}</span>
      <span class="o">}</span>,
    <span class="s2">"lat"</span>:<span class="s2">"50.8571601"</span>,
    <span class="s2">"lon"</span>:<span class="s2">"-2.1645891"</span>,
    <span class="s2">"favourite"</span>:true,
    <span class="s2">"components"</span>:[<span class="o">{</span>
      <span class="s2">"ingredient_id"</span>:12498,
      <span class="s2">"ingredient_name"</span>:<span class="s2">"dolorum"</span>,
      <span class="s2">"amount"</span>:70,
      <span class="s2">"protein"</span>:<span class="s2">"0.763"</span>,
      <span class="s2">"carbs"</span>:<span class="s2">"5.607"</span>,
      <span class="s2">"kcal"</span>:<span class="s2">"62.3"</span>,
      <span class="s2">"fibre"</span>:<span class="s2">"1.82"</span>,
      <span class="s2">"fat_s"</span>:<span class="s2">"0.0784"</span>,
      <span class="s2">"fat_u"</span>:<span class="s2">"0.0735"</span>,
      <span class="s2">"salt"</span>:<span class="s2">"0.00175"</span>,
      <span class="s2">"sugar"</span>:<span class="s2">"8.561"</span>,
      <span class="s2">"small_portion"</span>:60,
      <span class="s2">"medium_portion"</span>:120,
      <span class="s2">"large_portion"</span>:200<span class="o">}</span>,
      <span class="o">{</span>
      <span class="s2">"ingredient_id"</span>:12499,
      <span class="s2">"ingredient_name"</span>:<span class="s2">"Carrots Raw"</span>,
      <span class="s2">"amount"</span>:200,
      <span class="s2">"protein"</span>:<span class="s2">"1.86"</span>,
      <span class="s2">"carbs"</span>:<span class="s2">"4.08"</span>,
      <span class="s2">"kcal"</span>:<span class="s2">"82.0"</span>,
      <span class="s2">"fibre"</span>:<span class="s2">"5.6"</span>,
      <span class="s2">"fat_s"</span>:<span class="s2">"0.074"</span>,
      <span class="s2">"fat_u"</span>:<span class="s2">"0.262"</span>,
      <span class="s2">"salt"</span>:<span class="s2">"0.345"</span>,
      <span class="s2">"sugar"</span>:<span class="s2">"9.48"</span>,
      <span class="s2">"small_portion"</span>:40,
      <span class="s2">"medium_portion"</span>:80,
      <span class="s2">"large_portion"</span>:120<span class="o">}]</span>,
    <span class="s2">"images"</span>:
      <span class="o">[{</span>
        <span class="s2">"image"</span>: <span class="o">{</span>
            <span class="s2">"tiny"</span>: <span class="s2">"http://www.example.com/system/images/images/000/000/167/tiny/data.jpeg?1408625179"</span>,
            <span class="s2">"small"</span>: <span class="s2">"http://www.example.com/system/images/images/000/000/167/small/data.jpeg?1408625179"</span>,
            <span class="s2">"medium"</span>: <span class="s2">"http://www.example.com/system/images/images/000/000/167/medium/data.jpeg?1408625179"</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"places"</span>:
      <span class="o">[{</span>
        <span class="s2">"id"</span>:87,
        <span class="s2">"name"</span>:<span class="s2">"Pizza place"</span>,
        <span class="s2">"address"</span>:<span class="s2">"14 Pepperoni Street, Dorset DT11 7AT United Kingdom"</span>,
        <span class="s2">"lat"</span>:<span class="s2">"50.8571601"</span>,
        <span class="s2">"lon"</span>:<span class="s2">"-2.1645891"</span>,
        <span class="s2">"meal_id"</span>:2945
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre>

<p>Meals are created by a user. They require a <code class="prettyprint">name</code>, all other fields are optional.</p>

<p>In order for a Meal to be used for nutrition tracking, it needs to contain at least one <code class="prettyprint">component</code> (ingredient and amount).</p>

<p>The Meal response object also contains a <code class="prettyprint">preview</code> - this is a projection of the current Users nutritional consumption IF this meal was to be eaten next. It is part of the Nuscore feature set, related to Nutrition tracking and scoring. Returning this preview is (note: will be) optional.</p>

<p>The Meal has the option to store <code class="prettyprint">places</code> relationships, which is useful for various localisation features, recommendations, suggestions and more context aware applications.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>yes</td>
<td>name of the meal</td>
</tr>
<tr>
<td>type</td>
<td>no</td>
<td>breakfast, lunch, dinner or snack</td>
</tr>
<tr>
<td>components</td>
<td>no</td>
<td>consists of ingredient.id and amount</td>
</tr>
<tr>
<td>favourite</td>
<td>no</td>
<td>true makes a meal a favourite</td>
</tr>
<tr>
<td>lat</td>
<td>no</td>
<td>latitude</td>
</tr>
<tr>
<td>lon</td>
<td>no</td>
<td>longitude</td>
</tr>
<tr>
<td>images</td>
<td>no</td>
<td>base64 encoded jpeg as <a href="http://en.wikipedia.org/wiki/Data_URI_scheme">Data URI</a></td>
</tr>
<tr>
<td>places</td>
<td>no</td>
<td>with name, address, lat and lon</td>
</tr>
</tbody></table>

<p>Images Data URI is in the format <code>data:image/jpeg;base64,BASE64DATA</code>.</p>

<h2 id="get-meals">Get Meals</h2>
<pre class="highlight shell"><span class="c"># My meals</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

<span class="c"># All meals</span>
<span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/all.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/all.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>

<span class="c"># Search meals</span>
<span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/search.json?q=banana"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/search.json?q=banana"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>

</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns an array of <a href="/#meals-/-recipes">meal objects</a></p>
</blockquote>

<p>To see a users personal meal, the <code class="prettyprint">GET</code> request needs to go to meals. Requests to <code class="prettyprint">all_meals</code> all meals from all users. A meal&rsquo;s json response also gets the preview information, just like in meal preview, for the current user.</p>

<p>This will show a paginated list of the meals (both all and a user&rsquo;s personal meals).</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource. For the All method you can either add the Bearer token, or the Application ID and Client Secret.
</aside></p>

<p><aside class="success">
You must switch on the <strong>Nuwe Meals</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>For example:
<code class="prettyprint">GET /v3/meals/search.json?q=banana&amp;per_page=30&amp;page=1</code></p>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Paginated list of meals</td>
</tr>
</tbody></table>

<h2 id="create-meal">Create Meal</h2>
<pre class="highlight shell"><span class="c"># create a meal</span>
<span class="c"># BASE64STRING is a JPG encoded as Base64</span>
<span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">meal</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Apple pie</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">breakfast</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">favourite</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">true</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">components</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:70},{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:200}],</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">images</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">BASE64STRING</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">The Place</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Somewhere in the United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">}]}}"</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">meal</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Apple pie</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">breakfast</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">favourite</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">true</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">components</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:70},{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:200}],</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">images</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">BASE64STRING</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">The Place</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Somewhere in the United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">}]}}"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a <a href="/#meals-/-recipes">meal object</a></p>
</blockquote>

<p>Create new Meal objects easily with this endpoint.</p>

<p>A user can save a meal, without eating it, so that it can be eaten later. If you want to save a meal and eat it at the same time, you will have to make two POST requests. One to <code class="prettyprint">/eats.json</code> and one to <code class="prettyprint">/meals.json</code></p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<p><aside class="success">
You must switch on the <strong>Nuwe Meals</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<p><aside class="warning">
<code class="prettyprint">name</code> is a required field. All other fields are optional.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Meal was created</td>
</tr>
<tr>
<td>400</td>
<td>Bad request</td>
</tr>
</tbody></table>

<h2 id="get-meal-by-id">Get Meal by id</h2>
<pre class="highlight shell"><span class="c"># Show a meal (7 is the meal-id)</span>
<span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/7.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/7.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>Returns a <a href="/#meals-/-recipes">meal object</a></p>
</blockquote>

<p>You can find a specific meal&rsquo;s details by making a <code class="prettyprint">GET</code> request and adding the meal id to the <code class="prettyprint">/meals/{meal-id}.json</code> endpoint.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<p><aside class="success">
You must switch on the <strong>Nuwe Meals</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Meal found</td>
</tr>
<tr>
<td>400</td>
<td>Bad request</td>
</tr>
</tbody></table>

<h2 id="update-meal">Update Meal</h2>
<pre class="highlight shell"><span class="c"># update a meal (6 is the meal-id)</span>
<span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/6.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">meal</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Apple pie</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">lunch</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">favourite</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">true</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">components</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:70},{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:200}],</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">images</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">BASE64STRING</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Updated the Place</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Somewhere in the United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">]}}"</span>

<span class="c"># update a meal (6 is the meal-id)</span>
<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/6.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">meal</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Apple pie</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">lunch</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">favourite</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">true</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">components</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:70},{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:200}],</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">images</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">BASE64STRING</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Updated the Place</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Somewhere in the United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">]}}"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>Returns a <a href="/#meals-/-recipes">meal object</a></p>
</blockquote>

<p>You can update the details of a Meal object, by making a <code class="prettyprint">PATCH</code> request, to change the attributes.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<p><aside class="success">
You must switch on the <strong>Nuwe Meals</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Meal was updated</td>
</tr>
<tr>
<td>400</td>
<td>Bad request</td>
</tr>
</tbody></table>

<h2 id="delete-meal">Delete Meal</h2>
<pre class="highlight shell"><span class="c"># delete a meal (23 is the meal-id)</span>
<span class="c"># You can only delete a meal once, if meal 23 has been deleted add new meal id.</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/23.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c </span><span class="se">\</span><span class="s2">
  -X DELETE </span><span class="se">\</span><span class="s2">
</span></pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Example Meal deletion JSON:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"notice"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="s2">"Meal deleted."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meal"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">23</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">13407</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-08-05T03:49:29.319Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-08-05T03:49:29.319Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"cheese"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lon"</span><span class="p">:</span><span class="err">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>A user can delete a Meal. Add the <code class="prettyprint">meal-id</code> to the <code class="prettyprint">DELETE</code> request. Only meals that actually exist and are owned by the authenticated User can be deleted.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="success">
You must switch on the <strong>Nuwe Meals</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<p><aside class="warning">
  This is a destructive action and should have appropriate User confirmation in your application to confirm intended action.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Meal was deleted</td>
</tr>
<tr>
<td>404</td>
<td>Meal does not exist and can not be deleted</td>
</tr>
</tbody></table>

<h2 id="meal-favourites">Meal Favourites</h2>
<pre class="highlight shell"><span class="c"># favouriting an existing meal (6 is the meal-id)</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/6/favourite.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>

<span class="c"># destroying the meal favourite (6 is the meal-id)</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/6/favourite.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>

<span class="c"># favourite a meal during creation</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">meal</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Apple pie</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">lunch</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">favourite</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">components</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:70},{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:200}]}}"</span>

<span class="c"># favourite a meal during update</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/6.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer token"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">meal</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Apple pie</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">lunch</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">favourite</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">components</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:70},{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:200}]}}"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The first command returns a JSON response like the following: (meal creation and update generate the normal Meal json)</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"favourite"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-08-05T13:47:23.058Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meal"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"deleniti"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"breakfast"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"components"</span><span class="p">:[]}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre>

<p>A meal can be favourited, either by adding &lsquo;favourite: true&rsquo; to the <code class="prettyprint">create</code> or <code class="prettyprint">update</code> action, or by sending a <code class="prettyprint">POST</code> request to the Meal Favourite end-point, passing the <code class="prettyprint">meal-id</code> of the favorited Meal object.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="success">
You must switch on the <strong>Nuwe Meals</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Favorite was created</td>
</tr>
<tr>
<td>400</td>
<td>Bad request</td>
</tr>
</tbody></table>

<h2 id="create-meal-places">Create Meal Places</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
<span class="c"># Create places for a specific meal (26 = the meal.id)</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/26/places.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">: [{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Iceland Foods ltd</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">26 Salisbury St Blandford Forum, Dorset DT11 7AT UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2"> }, {</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Boulangerie</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">221b Baker Street, Marylebone, London NW1 6XE UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">51.5237478</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-0.158435</span><span class="se">\"</span><span class="s2"> }]}"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
<span class="c"># Create places for a specific meal (26 = the meal.id)</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/26/places.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">: [{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Iceland Foods ltd</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">26 Salisbury St Blandford Forum, Dorset DT11 7AT UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2"> }, {</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Boulangerie</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">221b Baker Street, Marylebone, London NW1 6XE UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">51.5237478</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-0.158435</span><span class="se">\"</span><span class="s2"> }]}"</span> <span class="se">\</span>
</pre>

<blockquote>
<p>Returns either the meal or the product JSON:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"meal"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Meal name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">963</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">3082</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"breakfast"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"creator"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Creator"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="s2">"tiny"</span><span class="p">:</span><span class="s2">"http://www.example.com/avatars/tiny/missing.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"small"</span><span class="p">:</span><span class="s2">"http://www.example.com/avatars/small/missing.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"medium"</span><span class="p">:</span><span class="s2">"http://www.example.com/avatars/medium/missing.png"</span><span class="p">}},</span><span class="w">
  </span><span class="s2">"preview"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="s2">"error"</span><span class="p">:{</span><span class="s2">"message"</span><span class="p">:{}}},</span><span class="w">
  </span><span class="s2">"lat"</span><span class="p">:</span><span class="s2">"50.8571601"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lon"</span><span class="p">:</span><span class="s2">"-2.1645891"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"favourite"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"components"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"images"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"places"</span><span class="p">:</span><span class="w">
    </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">541</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Iceland Foods ltd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"26 Salisbury St Blandford Forum, Dorset DT11 7AT United Kingdom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="s2">"50.8571601"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lon"</span><span class="p">:</span><span class="s2">"-2.1645891"</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre>

<ul>
<li><p>Users can create multiple places belonging to a meal. Add the <code class="prettyprint">meal-id</code> to the <code class="prettyprint">POST</code> request and add (multiple) place data to the params.</p></li>
<li><p>By adding places to the <code class="prettyprint">PATCH</code> request, the places can be updated. If you send an empty places [], the places for that meal will be deleted.</p></li>
<li><p>A list of local places with factual data can be pulled up by adding the <code class="prettyprint">lat</code>, <code class="prettyprint">lon</code> and <code class="prettyprint">radius</code> to the <code class="prettyprint">GET</code> request.</p></li>
</ul>

<p><aside class="success">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<h2 id="update-meal-places">Update Meal Places</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
<span class="c"># Update places for a specific meal (17 = the meal.id)</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/17/places.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">: [{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Chocolate land</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">551 Brown Street, Dorset DT11 7AT UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2"> }"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
<span class="c"># Update places for a specific meal (17 = the meal.id)</span>
curl <span class="s2">"https://api.nuapi.co/v3/meals/17/places.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">: [{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Chocolate land</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">551 Brown Street, Dorset DT11 7AT UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2"> }"</span> <span class="se">\</span>
</pre>

<blockquote>
<p>Returns either the meal or products JSON</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"product"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">246</span><span class="p">,</span><span class="w">
  </span><span class="s2">"upc"</span><span class="p">:</span><span class="s2">"034000040254"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Milk Chocolate Fine"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"brand"</span><span class="p">:</span><span class="s2">"Cadbury"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weight"</span><span class="p">:</span><span class="s2">"3.5 oz"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"snack"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lon"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"favourite"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"serving_size"</span><span class="p">:</span><span class="s2">"7 blocks"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"200.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"3.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"23.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"7.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"40.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"22.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preview"</span><span class="p">:{</span><span class="s2">"error"</span><span class="p">:{</span><span class="s2">"message"</span><span class="p">:{}}},</span><span class="w">
  </span><span class="s2">"raw_nutritional_data"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"serving_size"</span><span class="p">:</span><span class="s2">"7 blocks"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"servings"</span><span class="p">:</span><span class="s2">"12"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"210.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_kcal"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_fat"</span><span class="p">:</span><span class="s2">"15"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"10.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_polyunsat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_monounsat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cholesterol"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sodium"</span><span class="p">:</span><span class="s2">"65.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"potassium"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"17.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"soluble_fibre"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"insoluble_fibre"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"14.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sugar_alcohol"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"3.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vitamin_a"</span><span class="p">:</span><span class="s2">"4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vitamin_c"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"calcium"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"iron"</span><span class="p">:</span><span class="s2">"0"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ingredient_names"</span><span class="p">:</span><span class="w">
    </span><span class="p">[</span><span class="s2">"Milk"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Chocolate"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Cocoa Butter"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Lactose"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Soy Lecithin"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Emulsifier"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Artificial Flavor"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"images"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"places"</span><span class="p">:</span><span class="w">
    </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">559</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Iceland Foods ltd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"26 Salisbury St Blandford Forum, Dorset DT11 7AT United Kingdom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="s2">"50.8571601"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lon"</span><span class="p">:</span><span class="s2">"-2.1645891"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre>

<p><aside class="success">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<p><aside class="notice">
You must switch on the <strong>Nuwe Places</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<p>Users can update places belonging to a meal (just as you would update the ingredient components).</p>

<p>Add the <code class="prettyprint">meal-id</code> to the <code class="prettyprint">PATCH</code> request and add (multiple) place data to the params.</p>

<p>If an empty array of places is sent <code class="prettyprint">{&quot;places&quot;: []}</code>, then the meal will have no places (previous places will be removed from the meal).</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Meal&rsquo;s places were updated</td>
</tr>
<tr>
<td>400</td>
<td>Bad request</td>
</tr>
</tbody></table>

<h1 id="products">Products</h1>

<h2 id="product-class">Product Class</h2>

<p>The Product Class represents prepackaged consumer goods, that typically are referenced via a barcode and contain a <code class="prettyprint">upc</code> reference.</p>

<p>When the Product&rsquo;s <code class="prettyprint">upc</code> code is entered in the request, it is first checked for presence in the <code class="prettyprint">NUWE Products</code> database. If a Product is not in the database, a new instance of the Product is automatically created.</p>

<p>If you are using the <a href="/#nuscore">Nuscore</a> features, you will also receive the <code class="prettyprint">preview</code> data added to the response, which as in <a href="/#meals">Meals</a> represents the projected nutrition scores for the User if they were to eat the product.</p>

<p>Also similar to Meals, Products can be favorited and have Places relationships added.</p>

<p>You can take advantage of a single endpoint to query numerous 3rd party services for UPC data with normalised response formats.</p>

<p>Current supported services are:</p>

<table><thead>
<tr>
<th>Service</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Factual UPC</td>
<td>CPG Products with Ingredients and Nutrition - Schema. Over 600,000 of the Most Popular CPG Products</td>
</tr>
</tbody></table>

<p>Check our <a href="https://trello.com/b/MmqlJvxv/nuwe-platform">Roadmap</a> for future integration releases.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="success">
You must switch on the <strong>Factual UPC</strong> service for your application and enter your credentials in the Nuwe Developer Portal to access the endpoints in this resource.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The product&rsquo;s info</td>
</tr>
<tr>
<td>400</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>404</td>
<td>Could not find product info</td>
</tr>
</tbody></table>

<h2 id="get-product-by-upc">Get Product by UPC</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/071899622512.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/071899622512.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"product"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">146</span><span class="p">,</span><span class="w">
    </span><span class="s2">"upc"</span><span class="p">:</span><span class="s2">"071899622512"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Cookies 'n Cream Bars"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"brand"</span><span class="p">:</span><span class="s2">"Blue Bell"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"weight"</span><span class="p">:</span><span class="s2">"33 fl oz; 975 ml"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lon"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"favourite"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"serving_size"</span><span class="p">:</span><span class="s2">"65 g"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"210.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"3.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"17.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"10.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"65.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"14.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preview"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"raw_nutritional_data"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"serving_size"</span><span class="p">:</span><span class="s2">"65 g"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"servings"</span><span class="p">:</span><span class="s2">"2.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"200.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_kcal"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_fat"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"7.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_polyunsat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_monounsat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cholesterol"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sodium"</span><span class="p">:</span><span class="s2">"40.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"potassium"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"23.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"soluble_fibre"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"insoluble_fibre"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"22.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar_alcohol"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"3.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vitamin_a"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vitamin_c"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"calcium"</span><span class="p">:</span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"iron"</span><span class="p">:</span><span class="s2">"2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ingredient_names"</span><span class="p">:</span><span class="w">
      </span><span class="p">[</span><span class="s2">"Milk"</span><span class="p">,</span><span class="s2">"Cream"</span><span class="p">,</span><span class="s2">"Sugar"</span><span class="p">,</span><span class="s2">"Skim Milk"</span><span class="p">,</span><span class="s2">"Coconut Oil"</span><span class="p">,</span><span class="s2">"High Fructose Corn Syrup"</span><span class="p">,</span><span class="s2">"Flour [Enriched Bleached Wheat Flour"</span><span class="p">,</span><span class="s2">"Wheat Flour"</span><span class="p">,</span><span class="s2">"Niacin"</span><span class="p">,</span><span class="s2">"Reduced Iron"</span><span class="p">,</span><span class="s2">"Thiamin Mononitrate"</span><span class="p">,</span><span class="s2">"Riboflavin"</span><span class="p">,</span><span class="s2">"Folic Acid"</span><span class="p">,</span><span class="s2">"Soybean Oil"</span><span class="p">,</span><span class="s2">"Corn Syrup"</span><span class="p">,</span><span class="s2">"Cocoa (Processed With Alkali)"</span><span class="p">,</span><span class="s2">"Butter Oil"</span><span class="p">,</span><span class="s2">"Natural"</span><span class="p">,</span><span class="s2">"Artificial Flavor"</span><span class="p">,</span><span class="s2">"Cellulose Gum"</span><span class="p">,</span><span class="s2">"Vegetable Gums"</span><span class="p">,</span><span class="s2">"Guar"</span><span class="p">,</span><span class="s2">"Carrageenan"</span><span class="p">,</span><span class="s2">"Carob Bean"</span><span class="p">,</span><span class="s2">"Soy Lecithin"</span><span class="p">,</span><span class="s2">"Polyglycerol Polyricinoleate"</span><span class="p">,</span><span class="s2">"Salt"</span><span class="p">,</span><span class="s2">"Baking Soda"</span><span class="p">,</span><span class="s2">"Soy Flour"</span><span class="p">,</span><span class="s2">"Modified Food Starch"</span><span class="p">,</span><span class="s2">"Annatto Color"</span><span class="p">,</span><span class="s2">"Artificial Color (Includes Red 40"</span><span class="p">,</span><span class="s2">"Blue 1)"</span><span class="p">,</span><span class="s2">"Caramel Color"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"images"</span><span class="p">:</span><span class="w">
      </span><span class="p">[{</span><span class="s2">"image"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="s2">"tiny"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images/000/000/667/tiny/0007189962251_300X300.jpg?1438159872"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"small"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images/000/000/667/small/0007189962251_300X300.jpg?1438159872"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"medium"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images/000/000/667/medium/0007189962251_300X300.jpg?1438159872"</span><span class="p">}},</span><span class="w">
      </span><span class="p">{</span><span class="s2">"image"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="s2">"tiny"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images//tiny/picture.php?1438159873"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"small"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images//small/picture.php?1438159873"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"medium"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images//medium/picture.php?1438159873"</span><span class="p">}}],</span><span class="w">
    </span><span class="s2">"places"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre>

<p><strong>Show Product Details by UPC</strong></p>

<p><em>Where <code class="prettyprint">071899622512</code> is Product&rsquo;s barcode.</em></p>

<p>Make a <code class="prettyprint">GET</code> request to the <code class="prettyprint">/products/{UPC_REF}.json</code> endpoint, with the barcode (UPC) reference of the product.</p>

<p>The <code class="prettyprint">preview</code> is based on the <code class="prettyprint">current_user</code>.</p>

<p>Nutrient attributes are given in grams per serving size, NOT in 1 gram instances.  Cholesterol, sodium/salt, and potassium are given in milligrams per serving size.  Calcium, iron, vitamin A, and vitamin C are given in percent daily values.</p>

<p>The <code class="prettyprint">raw_nutritional_data</code> provides all of the available nutritional facts from Factual UPC.</p>

<p>Returns the product&rsquo;s info in JSON format.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<p><aside class="success">
You must switch on the <strong>Factual UPC</strong> service for your application and enter your credentials in the Nuwe Developer Portal to access the endpoints in this resource.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The product&rsquo;s info</td>
</tr>
<tr>
<td>400</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>404</td>
<td>Could not find product info</td>
</tr>
</tbody></table>

<h2 id="get-products-by-name">Get Products by Name</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/search.json?name=soy&amp;page=1"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/search.json?name=soy&amp;page=1"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"products"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">147</span><span class="p">,</span><span class="w">
    </span><span class="s2">"upc"</span><span class="p">:</span><span class="s2">"075181010100"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Rotelli Soy \u0026 Wheat"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"brand"</span><span class="p">:</span><span class="s2">"Eddie's Spaghetti"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"weight"</span><span class="p">:</span><span class="s2">"12 oz"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lon"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"favourite"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"serving_size"</span><span class="p">:</span><span class="s2">"0.75 cup"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"210.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"13.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"2.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"35.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preview"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"raw_nutritional_data"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"serving_size"</span><span class="p">:</span><span class="s2">"0.75 cup"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"servings"</span><span class="p">:</span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"210.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_kcal"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_fat"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_polyunsat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_monounsat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cholesterol"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sodium"</span><span class="p">:</span><span class="s2">"100.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"potassium"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"35.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"2.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"soluble_fibre"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"insoluble_fibre"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar_alcohol"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"13.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vitamin_a"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vitamin_c"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"calcium"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"iron"</span><span class="p">:</span><span class="s2">"8"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ingredient_names"</span><span class="p">:</span><span class="w">
        </span><span class="p">[</span><span class="s2">"Organic Semolina"</span><span class="p">,</span><span class="s2">"Organic Soy Protein Isolate"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"images"</span><span class="p">:</span><span class="w">
      </span><span class="p">[{</span><span class="s2">"image"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="s2">"tiny"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images//tiny/00075181010100_full.jpg?1438160342"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"small"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images//small/00075181010100_full.jpg?1438160342"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"medium"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images//medium/00075181010100_full.jpg?1438160342"</span><span class="p">}},</span><span class="w">
      </span><span class="p">{</span><span class="s2">"image"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="s2">"tiny"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images//tiny/picture.php?1438160342"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"small"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images//small/picture.php?1438160342"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"medium"</span><span class="p">:</span><span class="s2">"https://api.nuapi.co/system/images/images//medium/picture.php?1438160342"</span><span class="p">}</span><span class="w">
      </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"places"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p><strong>Search Factual Products by Product Name</strong></p>

<p>Returns list of products by searching the product name.</p>

<p>Make a <code class="prettyprint">GET</code> request to the <code class="prettyprint">/products/search.json?name={PRODUCT_NAME}&amp;page={PAGE_NUMBER}</code> endpoint.  It will search for products containing the {PRODUCT_NAME} search term.  </p>

<p>Currently, Factual limits search results as follows:</p>

<ul>
<li>20 records per page</li>
<li>Maximum of 5 pages.<br></li>
</ul>

<p>The acceptable range for {PAGE_NUMBER} is 1-5.  If {PAGE_NUMBER} is not specified, it will default to 1.</p>

<p>The <code class="prettyprint">preview</code> is based on the <code class="prettyprint">current_user</code>.</p>

<p>Nutrient attributes are given in grams per serving size, NOT in 1 gram instances.  Cholesterol, sodium/salt, and potassium are given in milligrams per serving size.  Calcium, iron, vitamin A, and vitamin C are given in percent daily values.</p>

<p>The <code class="prettyprint">raw_nutritional_data</code> provides all of the available nutritional facts from Factual UPC.</p>

<p>Returns the products&#39; info in JSON format.  Returns up to 20 records.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<p><aside class="success">
You must switch on the <strong>Factual UPC</strong> service for your application and enter your credentials in the Nuwe Developer Portal to access the endpoints in this resource.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>The product&rsquo;s info</td>
</tr>
<tr>
<td>400</td>
<td>Invalid login credentials</td>
</tr>
<tr>
<td>404</td>
<td>Could not find product info</td>
</tr>
</tbody></table>

<h2 id="update-product-by-upc">Update Product by UPC</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/048500010976.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">product</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">breakfast</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">favourite</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.9999999</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">The Place</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Somewhere in the United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">}]}}"</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/048500010976.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">product</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">breakfast</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">favourite</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.9999999</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">The Place</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Somewhere in the United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">}]}}"</span>

</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns a <a href="/#products">Product Object</a></p>
</blockquote>

<p>A product can be updated after creation with the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>no</td>
<td>breakfast, lunch, dinner or snack</td>
</tr>
<tr>
<td>favourite</td>
<td>no</td>
<td>true makes a product a favourite</td>
</tr>
<tr>
<td>lat</td>
<td>no</td>
<td>latitude</td>
</tr>
<tr>
<td>lon</td>
<td>no</td>
<td>longitude</td>
</tr>
<tr>
<td>places</td>
<td>no</td>
<td>Array of places</td>
</tr>
</tbody></table>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside>
<aside class="success">
You must switch on the <strong>Factual UPC</strong> service for your application and enter your credentials in the Nuwe Developer Portal to access the endpoints in this resource.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Product was updated</td>
</tr>
<tr>
<td>400</td>
<td>Bad request</td>
</tr>
</tbody></table>

<h2 id="product-favourites">Product Favourites</h2>
<pre class="highlight shell"><span class="c"># favouriting an existing product (048500010976 is the product-upc)</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/048500010976/favourite.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>

<span class="c"># destroying the product favourite (048500010976 is the product-upc)</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/048500010976/favourite.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>

<span class="c"># Favouriting a product during the update</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/048500010976.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">product</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">favourite</span><span class="se">\"</span><span class="s2">:true}}"</span>

</pre>
<pre class="highlight ruby"></pre>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p>A product can be favourited, either by adding &lsquo;favourite: true&rsquo; to the update action, or by posting the product-upc to the product favourite end-point.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Favorite was created</td>
</tr>
<tr>
<td>400</td>
<td>Bad request</td>
</tr>
</tbody></table>

<h2 id="create-product-places">Create Product Places</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
<span class="c"># Create places for a specific product (018627620037 = the product.upc)</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/018627620037/places.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">: [{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Iceland Foods ltd</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">26 Salisbury St Blandford Forum, Dorset DT11 7AT UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2"> }, {</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Boulangerie</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">221b Baker Street, Marylebone, London NW1 6XE UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">51.5237478</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-0.158435</span><span class="se">\"</span><span class="s2"> }]}"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
<span class="c"># Create places for a specific product (018627620037 = the product.upc)</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/018627620037/places.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">: [{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Iceland Foods ltd</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">26 Salisbury St Blandford Forum, Dorset DT11 7AT UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2"> }, {</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Boulangerie</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">221b Baker Street, Marylebone, London NW1 6XE UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">51.5237478</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-0.158435</span><span class="se">\"</span><span class="s2"> }]}"</span> <span class="se">\</span>

</pre>
<pre class="highlight ruby">

</pre>

<blockquote>
<p>Returns either the meal or the product JSON:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"meal"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Meal name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">963</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">3082</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"breakfast"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"creator"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Creator"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="s2">"tiny"</span><span class="p">:</span><span class="s2">"http://www.example.com/avatars/tiny/missing.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"small"</span><span class="p">:</span><span class="s2">"http://www.example.com/avatars/small/missing.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"medium"</span><span class="p">:</span><span class="s2">"http://www.example.com/avatars/medium/missing.png"</span><span class="p">}},</span><span class="w">
  </span><span class="s2">"preview"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="s2">"error"</span><span class="p">:{</span><span class="s2">"message"</span><span class="p">:{}}},</span><span class="w">
  </span><span class="s2">"lat"</span><span class="p">:</span><span class="s2">"50.8571601"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lon"</span><span class="p">:</span><span class="s2">"-2.1645891"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"favourite"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"components"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"images"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"places"</span><span class="p">:</span><span class="w">
    </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">541</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Iceland Foods ltd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"26 Salisbury St Blandford Forum, Dorset DT11 7AT United Kingdom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="s2">"50.8571601"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lon"</span><span class="p">:</span><span class="s2">"-2.1645891"</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre>

<ul>
<li><p>Users can create multiple places belonging to a meal or a product. Add the <code class="prettyprint">product-upc</code> to the <code class="prettyprint">POST</code> request and add (multiple) place data to the params.</p></li>
<li><p>By adding places to the <code class="prettyprint">PATCH</code> request, the places can be updated. If you send an empty places <code class="prettyprint">[]</code>, the places for that meal will be deleted.</p></li>
<li><p>A list of local places with <a href="http://www.factual.com">Factual</a> data can be pulled up by adding the <code class="prettyprint">lat</code>, <code class="prettyprint">lon</code> and <code class="prettyprint">radius</code> to the <code class="prettyprint">GET</code> request.</p></li>
</ul>

<p><aside class="success">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<h2 id="update-product-places">Update Product Places</h2>
<pre class="highlight shell"><span class="c"># Bearer token auth method</span>
<span class="c"># Update places for a specific product (018627620037 = the product.upc)</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/018627620037/places.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">: [{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Chocolate land</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">551 Brown Street, Dorset DT11 7AT UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2"> }"</span> <span class="se">\</span>

or

<span class="c"># Application ID &amp; Secret auth method</span>
<span class="c"># Update places for a specific product (018627620037 = the product.upc)</span>
curl <span class="s2">"https://api.nuapi.co/v3/products/018627620037/places.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: application_id 7050fa3cc27a056697263ec0221492a1a044ab, client_secret 1fdd7d268039eb5c0c622b3a382c80"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">: [{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Chocolate land</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">551 Brown Street, Dorset DT11 7AT UK</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2"> }"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>Returns either the meal or products JSON</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"product"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">246</span><span class="p">,</span><span class="w">
  </span><span class="s2">"upc"</span><span class="p">:</span><span class="s2">"034000040254"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Milk Chocolate Fine"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"brand"</span><span class="p">:</span><span class="s2">"Cadbury"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weight"</span><span class="p">:</span><span class="s2">"3.5 oz"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"snack"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lon"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"favourite"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"serving_size"</span><span class="p">:</span><span class="s2">"7 blocks"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"200.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"3.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"23.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"7.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"40.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"22.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preview"</span><span class="p">:{</span><span class="s2">"error"</span><span class="p">:{</span><span class="s2">"message"</span><span class="p">:{}}},</span><span class="w">
  </span><span class="s2">"raw_nutritional_data"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"serving_size"</span><span class="p">:</span><span class="s2">"7 blocks"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"servings"</span><span class="p">:</span><span class="s2">"12"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"210.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_kcal"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"total_fat"</span><span class="p">:</span><span class="s2">"15"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"10.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_polyunsat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_monounsat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cholesterol"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sodium"</span><span class="p">:</span><span class="s2">"65.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"potassium"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"17.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"soluble_fibre"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"insoluble_fibre"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"14.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sugar_alcohol"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"3.0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vitamin_a"</span><span class="p">:</span><span class="s2">"4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vitamin_c"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"calcium"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"iron"</span><span class="p">:</span><span class="s2">"0"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ingredient_names"</span><span class="p">:</span><span class="w">
    </span><span class="p">[</span><span class="s2">"Milk"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Chocolate"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Cocoa Butter"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Lactose"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Soy Lecithin"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Emulsifier"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Artificial Flavor"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"images"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"places"</span><span class="p">:</span><span class="w">
    </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">559</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Iceland Foods ltd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"26 Salisbury St Blandford Forum, Dorset DT11 7AT United Kingdom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="s2">"50.8571601"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lon"</span><span class="p">:</span><span class="s2">"-2.1645891"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre>

<p><aside class="success">
You must include the <strong>api</strong> authentication header for this resource, either adding the Bearer token, or the Application ID and Client Secret.
</aside></p>

<p><aside class="notice">
You must switch on the <strong>Nuwe Places</strong> service for your application in the Nuwe Developer Portal to access this endpoint.
</aside></p>

<p>Users can update places belonging to a a product (just as you would update the ingredient components). Add the <code class="prettyprint">product-upc</code> to the <code class="prettyprint">PATCH</code> request and add (multiple) place data to the params.</p>

<p>If an empty array of places is sent <code class="prettyprint">{&quot;places&quot;: []}</code>, then the meal will have no places (previous places will be removed from the product or meal).</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Meal&rsquo;s places were updated</td>
</tr>
<tr>
<td>400</td>
<td>Bad request</td>
</tr>
</tbody></table>

<h1 id="nutrition-tracking">Nutrition Tracking</h1>

<p>If you want to track what a User is eating, you need to capture those events. Those events are constructed with the various food related model objects - Ingredients, Meals &amp; Products - which form <code class="prettyprint">components</code> that, when supplied with a specified <code class="prettyprint">amount</code>, can be logged as an Eat event for a User.</p>

<h2 id="get-eat-events">Get Eat Events</h2>
<pre class="highlight shell"><span class="c"># all eats for a given user</span>
curl <span class="s2">"https://api.nuapi.co/v3/eats.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>

<span class="c"># today's eats for a given user</span>
curl <span class="s2">"https://api.nuapi.co/v3/eats/today.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The response is a follows:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"eats"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">524</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">2547</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:43.939Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:43.962Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"breakdown"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">63</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">2547</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-11-06"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal_g"</span><span class="p">:</span><span class="s2">"600.5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal_perc"</span><span class="p">:</span><span class="s2">"19.369093313550301583717704738"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein_g"</span><span class="p">:</span><span class="s2">"7.905"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein_perc"</span><span class="p">:</span><span class="s2">"7.821799442644281146120707927140978311"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre_g"</span><span class="p">:</span><span class="s2">"12.7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre_perc"</span><span class="p">:</span><span class="s2">"52.916666666666666667"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs_g"</span><span class="p">:</span><span class="s2">"59.045"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs_perc"</span><span class="p">:</span><span class="s2">"18.442536720212226827786569594390980416"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u_g"</span><span class="p">:</span><span class="s2">"0.4725"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u_perc"</span><span class="p">:</span><span class="s2">"0.683140244006213099447116917832352833"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s_g"</span><span class="p">:</span><span class="s2">"7.504"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s_perc"</span><span class="p">:</span><span class="s2">"23.467462475580908099992300658588415566"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt_g"</span><span class="p">:</span><span class="s2">"40.01125"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt_perc"</span><span class="p">:</span><span class="s2">"666.854166666666666666666666667"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar_g"</span><span class="p">:</span><span class="s2">"77.035"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar_perc"</span><span class="p">:</span><span class="s2">"60.300871748839416585635549148071882607"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:44.008Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:44.008Z"</span><span class="p">},</span><span class="w">
  </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"3.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"200.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"23.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"7.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"40.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"22.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"components"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"meals"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"products"</span><span class="p">:</span><span class="w">
    </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">238</span><span class="p">,</span><span class="w">
    </span><span class="s2">"upc"</span><span class="p">:</span><span class="s2">"034000040254"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Milk Chocolate Fine"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"brand"</span><span class="p">:</span><span class="s2">"Cadbury"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"weight"</span><span class="p">:</span><span class="s2">"3.5 oz"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"snack"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lon"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"favourite"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serving_size"</span><span class="p">:</span><span class="s2">"7 blocks"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"200.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"3.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"23.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"7.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"40.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"22.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preview"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
      </span><span class="s2">"nutrient_totals"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"200.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"3.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"23.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"7.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"40.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"22.0"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"predicted_nutrient_totals"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"800.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"10.905"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"13.7"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"82.045"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.4725"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"14.504"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"80.01125"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"99.035"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"predicted_nutrient_perc"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"6.450988614005096281005064026"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"2.968424835918133262284898644076272604"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"4.166666666666666667"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"7.183984157250930934695420453399823009"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"21.891289622743384421634608823310089147"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"666.666666666666666667"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"17.220992775679459529875797770592346561"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"prediction"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span><span class="w">
        </span><span class="s2">"difference"</span><span class="p">:</span><span class="mi">6</span><span class="p">}},</span><span class="w">
    </span><span class="s2">"raw_nutritional_data"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"serving_size"</span><span class="p">:</span><span class="s2">"7 blocks"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"servings"</span><span class="p">:</span><span class="s2">"12"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"210.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_kcal"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_fat"</span><span class="p">:</span><span class="s2">"15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"10.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_polyunsat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_monounsat"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cholesterol"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sodium"</span><span class="p">:</span><span class="s2">"65.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"potassium"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"17.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"soluble_fibre"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"insoluble_fibre"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"14.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar_alcohol"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"3.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vitamin_a"</span><span class="p">:</span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vitamin_c"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"calcium"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"iron"</span><span class="p">:</span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="s2">"ingredient_names"</span><span class="p">:</span><span class="w">
      </span><span class="p">[</span><span class="s2">"Milk"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Chocolate"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Cocoa Butter"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Lactose"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Soy Lecithin"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Emulsifier"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Artificial Flavor"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"images"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"places"</span><span class="p">:[]}]},</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">522</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">2547</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:43.360Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:43.838Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"breakdown"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">63</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">2547</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-11-06"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal_g"</span><span class="p">:</span><span class="s2">"600.5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal_perc"</span><span class="p">:</span><span class="s2">"19.369093313550301583717704738"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein_g"</span><span class="p">:</span><span class="s2">"7.905"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein_perc"</span><span class="p">:</span><span class="s2">"7.821799442644281146120707927140978311"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre_g"</span><span class="p">:</span><span class="s2">"12.7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre_perc"</span><span class="p">:</span><span class="s2">"52.916666666666666667"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs_g"</span><span class="p">:</span><span class="s2">"59.045"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs_perc"</span><span class="p">:</span><span class="s2">"18.442536720212226827786569594390980416"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u_g"</span><span class="p">:</span><span class="s2">"0.4725"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u_perc"</span><span class="p">:</span><span class="s2">"0.683140244006213099447116917832352833"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s_g"</span><span class="p">:</span><span class="s2">"7.504"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s_perc"</span><span class="p">:</span><span class="s2">"23.467462475580908099992300658588415566"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt_g"</span><span class="p">:</span><span class="s2">"40.01125"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt_perc"</span><span class="p">:</span><span class="s2">"666.854166666666666666666666667"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar_g"</span><span class="p">:</span><span class="s2">"77.035"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar_perc"</span><span class="p">:</span><span class="s2">"60.300871748839416585635549148071882607"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:44.008Z"</span><span class="p">,</span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:44.008Z"</span><span class="p">},</span><span class="w">
  </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"2.18"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"178.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"16.02"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"5.2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.21"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.224"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.005"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"24.46"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"components"</span><span class="p">:</span><span class="w">
    </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"ingredient_id"</span><span class="p">:</span><span class="mi">7560</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ingredient_name"</span><span class="p">:</span><span class="s2">"ea"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"2.18"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"16.02"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"178.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"5.2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.224"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.21"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.005"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"24.46"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"small_portion"</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medium_portion"</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span><span class="w">
    </span><span class="s2">"large_portion"</span><span class="p">:</span><span class="mi">200</span><span class="p">}],</span><span class="w">
  </span><span class="s2">"meals"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"products"</span><span class="p">:[]},</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">523</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">2547</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-08-20T18:00:00.375Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:43.870Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"breakdown"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="s2">"id"</span><span class="p">:</span><span class="mi">63</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">2547</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-11-06"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal_g"</span><span class="p">:</span><span class="s2">"600.5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal_perc"</span><span class="p">:</span><span class="s2">"19.369093313550301583717704738"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein_g"</span><span class="p">:</span><span class="s2">"7.905"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein_perc"</span><span class="p">:</span><span class="s2">"7.821799442644281146120707927140978311"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre_g"</span><span class="p">:</span><span class="s2">"12.7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre_perc"</span><span class="p">:</span><span class="s2">"52.916666666666666667"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs_g"</span><span class="p">:</span><span class="s2">"59.045"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs_perc"</span><span class="p">:</span><span class="s2">"18.442536720212226827786569594390980416"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u_g"</span><span class="p">:</span><span class="s2">"0.4725"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u_perc"</span><span class="p">:</span><span class="s2">"0.683140244006213099447116917832352833"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s_g"</span><span class="p">:</span><span class="s2">"7.504"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s_perc"</span><span class="p">:</span><span class="s2">"23.467462475580908099992300658588415566"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt_g"</span><span class="p">:</span><span class="s2">"40.01125"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt_perc"</span><span class="p">:</span><span class="s2">"666.854166666666666666666666667"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar_g"</span><span class="p">:</span><span class="s2">"77.035"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar_perc"</span><span class="p">:</span><span class="s2">"60.300871748839416585635549148071882607"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:44.008Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-11-06T13:53:44.008Z"</span><span class="p">},</span><span class="w">
  </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"2.725"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"222.5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"20.025"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"6.5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.2625"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.28"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.00625"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"30.575"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"components"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"meals"</span><span class="p">:</span><span class="w">
    </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"necessitatibus"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">662</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">2547</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"breakfast"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"creator"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Sergio Pfannerstill"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"tiny"</span><span class="p">:</span><span class="s2">"http://www.example.com/avatars/tiny/missing.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"small"</span><span class="p">:</span><span class="s2">"http://www.example.com/avatars/small/missing.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"medium"</span><span class="p">:</span><span class="s2">"http://www.example.com/avatars/medium/missing.png"</span><span class="p">}},</span><span class="w">
    </span><span class="s2">"preview"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
      </span><span class="s2">"nutrient_totals"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"222.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"2.725"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"6.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"20.025"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.2625"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.28"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.00625"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"30.575"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"predicted_nutrient_totals"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"823.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"10.63"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"19.2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"79.07"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.735"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"7.784"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"40.0175"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"107.61"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"predicted_nutrient_perc"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"7.176724833080669612618133729"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"2.696319225958971046575449601702614282"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"27.083333333333333333"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"6.254751423867386607272860633883976337"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.379522357781229499692842732129084907"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.875651584909735376865384352932403566"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.104166666666666666666666667"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"23.933266096199976142088750765266408914"</span><span class="p">},</span><span class="w">
      </span><span class="s2">"prediction"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"score"</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span><span class="w">
        </span><span class="s2">"difference"</span><span class="p">:</span><span class="mi">8</span><span class="p">}},</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="s2">"50.8571601"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lon"</span><span class="p">:</span><span class="s2">"-2.1645891"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"favourite"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"components"</span><span class="p">:</span><span class="w">
      </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"ingredient_id"</span><span class="p">:</span><span class="mi">7560</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ingredient_name"</span><span class="p">:</span><span class="s2">"ea"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">250</span><span class="p">,</span><span class="w">
      </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"2.725"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"20.025"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"222.5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"6.5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"0.28"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"0.2625"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.00625"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"30.575"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"small_portion"</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="s2">"medium_portion"</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="s2">"large_portion"</span><span class="p">:</span><span class="mi">200</span><span class="p">}],</span><span class="w">
    </span><span class="s2">"images"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"places"</span><span class="p">:[]}],</span><span class="w">
    </span><span class="s2">"products"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>You can retrieve all of the Users Eats by making a <code class="prettyprint">GET</code> request to the `/eats.json&#39; endpoint.</p>

<p>This will show a paginated list of the user&rsquo;s eat events.</p>

<p>The today option, <code class="prettyprint">/eats/today.json</code> will show a user&rsquo;s eats for today. This is not a paginated list.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Paginated list of eats event for the user</td>
</tr>
</tbody></table>

<h2 id="create-eat-events">Create Eat Events</h2>
<pre class="highlight shell"><span class="c"># eat ingredients</span>
curl <span class="s2">"https://api.nuapi.co/v3/eats.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">eat</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">components</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:200},{</span><span class="se">\"</span><span class="s2">ingredient_id</span><span class="se">\"</span><span class="s2">:2,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:120}],</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">The Place</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Somewhere in the United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">}]}}"</span>

<span class="c"># eat meal-id</span>
curl <span class="s2">"https://api.nuapi.co/v3/eats.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">eat</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">meal_ids</span><span class="se">\"</span><span class="s2">:[7],</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">The Place</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Somewhere in the United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">}]}}"</span>

<span class="c"># eat product-upc</span>
curl <span class="s2">"https://api.nuapi.co/v3/eats.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">eat</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">product_upcs</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">048500010976</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">places</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">The Place</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Somewhere in the United Kingdom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">50.8571601</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">lon</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">-2.1645891</span><span class="se">\"</span><span class="s2">}]}}"</span>
</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The response is the eat event:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"eat"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">525</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">734</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-11-06T16:07:09.841Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-11-06T16:07:10.060Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"breakdown"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">127</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">734</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-11-06"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal_g"</span><span class="p">:</span><span class="s2">"381.6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal_perc"</span><span class="p">:</span><span class="s2">"12.308486275521723704157662162"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein_g"</span><span class="p">:</span><span class="s2">"69.744"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein_perc"</span><span class="p">:</span><span class="s2">"69.009940585424762081599323677485185495"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre_g"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre_perc"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs_g"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs_perc"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u_g"</span><span class="p">:</span><span class="s2">"5.5104"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u_perc"</span><span class="p">:</span><span class="s2">"7.966933334543569657552154632853750372"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s_g"</span><span class="p">:</span><span class="s2">"2.7168"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s_perc"</span><span class="p">:</span><span class="s2">"8.496322235295603828099557893024121456"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt_g"</span><span class="p">:</span><span class="s2">"0.606"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt_perc"</span><span class="p">:</span><span class="s2">"10.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar_g"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar_perc"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-11-06T16:07:10.085Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-11-06T16:07:10.085Z"</span><span class="p">},</span><span class="w">
  </span><span class="s2">"lat"</span><span class="p">:</span><span class="s2">"52.352108"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lon"</span><span class="p">:</span><span class="s2">"4.890718"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"69.744"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"381.6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"5.5104"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"2.7168"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.606"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"components"</span><span class="p">:</span><span class="w">
    </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"ingredient_id"</span><span class="p">:</span><span class="mi">3584</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ingredient_name"</span><span class="p">:</span><span class="s2">"Turkey WHL Meat"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">240</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protein"</span><span class="p">:</span><span class="s2">"69.744"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"carbs"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kcal"</span><span class="p">:</span><span class="s2">"381.6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fibre"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_s"</span><span class="p">:</span><span class="s2">"2.7168"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fat_u"</span><span class="p">:</span><span class="s2">"5.5104"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"salt"</span><span class="p">:</span><span class="s2">"0.606"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sugar"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"small_portion"</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medium_portion"</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span><span class="w">
    </span><span class="s2">"large_portion"</span><span class="p">:</span><span class="mi">240</span><span class="p">}],</span><span class="w">
  </span><span class="s2">"meals"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"products"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"places"</span><span class="p">:</span><span class="w">
    </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Updated place"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"26 Salisbury St Blandford Forum, Dorset DT11 7AT United Kingdom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="s2">"52.352108"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lon"</span><span class="p">:</span><span class="s2">"4.890718"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Eat events are used to record a selection of <code class="prettyprint">ingredients</code> or a <code class="prettyprint">meal</code>, a representation of the items a User has consumed. The Eat consists of one or more components. Each Component consists of an <code class="prettyprint">ingredient_id</code>, <code class="prettyprint">product_id</code> or <code class="prettyprint">meal_id</code> and an <code class="prettyprint">amount</code> (in grams).</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="notice">
If you want to save (create) a meal, the list of components and the meal name should be sent to the meal endpoint (see <a href="/#meals-/-recipes">Meals</a>).
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Eat was created</td>
</tr>
<tr>
<td>400</td>
<td>Bad request</td>
</tr>
</tbody></table>

            <h1 id="biometrics">Biometrics</h1>

<h2 id="measurements-engine">Measurements Engine</h2>

<p>The measurements engine is the underlying engine that handles the processing and normalisation of health and wellness data.</p>

<p>This data can come from many places. It already comes in from the <a href="#nuappsdevices">Connected Apps &amp; Devices</a> that Users can connect to, through your apps.</p>

<p>It can also come from data that you collect via features of your own apps, such as accessing the pedomoter class on the iPhone, or from your own hardware or sensors.</p>

<p>It&rsquo;s the intention of the measurements engine, as sensors and IoT for health continue to increase, to be able to handle high volume, high frequency data transfer via protocols beyond <strong>http</strong>, such as <strong>mqtt</strong>, <strong>coap</strong> and <strong>websockets</strong>.</p>

<p>Keep an eye out and have your say on this area via our <a href="https://trello.com/b/MmqlJvxv/nuwe-platform">public roadmap</a>. </p>

<h1 id="height">Height</h1>

<h2 id="create-height-measurement-reading">Create Height Measurement Reading</h2>
<pre class="highlight shell"><span class="c"># Create a height measurement</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/heights.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">measurement</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1800</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">date</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2014-08-17</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">timestamp</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-06-17T09:07:27.892Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">unit</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">mm</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">source</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nuapi</span><span class="se">\"</span><span class="s2">}}"</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a <a href="/#height">height measurement object</a></p>
</blockquote>

<p>Record new height measurements easily with this endpoint.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="warning">
<code class="prettyprint">value</code>, <code class="prettyprint">date</code>, <code class="prettyprint">timestamp</code>, <code class="prettyprint">unit</code>, and <code class="prettyprint">source</code> are required fields.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Height measurement was created</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
</tr>
</tbody></table>

<h2 id="get-height-measurements">Get Height Measurements</h2>
<pre class="highlight shell">
<span class="c"># All height measurements</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/heights.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a paginated list of height measurements:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"heights"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">183</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">1378</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-06-17"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.800Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"1920.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unit"</span><span class="p">:</span><span class="s2">"mm"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"nuapi"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>This will show a paginated list of a user&rsquo;s height measurements.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Paginated list of height measurements</td>
</tr>
</tbody></table>

<h1 id="weight">Weight</h1>

<h2 id="create-weight-measurement-reading">Create Weight Measurement Reading</h2>
<pre class="highlight shell"><span class="c"># Create a weight measurement</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/weights.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">measurement</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">88000</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">date</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2014-08-17</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">timestamp</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-06-17T09:07:27.892Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">unit</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">g</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">source</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nuapi</span><span class="se">\"</span><span class="s2">}}"</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a <a href="/#weight">weight measurement object</a></p>
</blockquote>

<p>Record new weight measurements easily with this endpoint.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="warning">
<code class="prettyprint">value</code>, <code class="prettyprint">date</code>, <code class="prettyprint">timestamp</code>, <code class="prettyprint">unit</code>, and <code class="prettyprint">source</code> are required fields.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Weight measurement was created</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
</tr>
</tbody></table>

<h2 id="get-weight-measurements">Get Weight Measurements</h2>
<pre class="highlight shell">
<span class="c"># All weight measurements</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/weights.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a paginated list of weight measurements:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"weights"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">183</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">1378</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-06-17"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.800Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"88000.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unit"</span><span class="p">:</span><span class="s2">"g"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"nuapi"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>This will show a paginated list of a user&rsquo;s weight measurements.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Paginated list of weight measurements</td>
</tr>
</tbody></table>

<h1 id="blood-pressure">Blood Pressure</h1>

<h2 id="create-blood-pressure-measurement-reading">Create Blood Pressure Measurement Reading</h2>
<pre class="highlight shell"><span class="c"># Create a blood pressure measurement</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/blood_pressures.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">measurement</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">120/90</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">date</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2014-08-17</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">timestamp</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-06-17T09:07:27.892Z</span><span class="se">\"</span><span class="s2">}}"</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a <a href="/#blood-pressure">blood pressure measurement object</a></p>
</blockquote>

<p>Record new blood pressure measurements easily with this endpoint.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="warning">
<code class="prettyprint">date</code> is a required field.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Blood pressure measurement was created</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
</tr>
</tbody></table>

<h2 id="get-blood-pressure-measurements">Get Blood Pressure Measurements</h2>
<pre class="highlight shell">
<span class="c"># All blood pressure measurements</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/blood_pressures.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a paginated list of blood pressure measurements:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"blood_pressures"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">31</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">1378</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-06-17"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.800Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"120/90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>This will show a paginated list of a user&rsquo;s blood pressure measurements.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Paginated list of blood pressure measurements</td>
</tr>
</tbody></table>

<h1 id="heart-rate">Heart Rate</h1>

<h2 id="create-heart-rate-measurement-reading">Create Heart Rate Measurement Reading</h2>
<pre class="highlight shell"><span class="c"># Create a heart rate measurement</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/bpms.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">measurement</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">120.0</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">date</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2014-08-17</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">timestamp</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-06-17T09:07:27.892Z</span><span class="se">\"</span><span class="s2">}}"</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a <a href="/#heart-rate">heart rate measurement object</a></p>
</blockquote>

<p>Record new heart rate measurements easily with this endpoint.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="warning">
<code class="prettyprint">date</code> is a required field.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Heart rate measurement was created</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
</tr>
</tbody></table>

<h2 id="get-heart-rate-measurements">Get Heart Rate Measurements</h2>
<pre class="highlight shell">
<span class="c"># All heart rate measurements</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/bpms.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a paginated list of heart rate measurements:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"bpms"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">31</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">1378</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-06-17"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.800Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"120.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>This will show a paginated list of a user&rsquo;s heart rate measurements.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Paginated list of heart rate measurements</td>
</tr>
</tbody></table>

<h1 id="blood-oxygen">Blood Oxygen</h1>

<h2 id="create-blood-oxygen-measurement-reading">Create Blood Oxygen Measurement Reading</h2>
<pre class="highlight shell"><span class="c"># Create a blood oxygen measurement</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/blood_oxygens.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">measurement</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">96.5</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">date</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2014-08-17</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">timestamp</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-06-17T09:07:27.892Z</span><span class="se">\"</span><span class="s2">}}"</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a <a href="/#blood-oxygen">blood oxygen measurement object</a></p>
</blockquote>

<p>Record new blood oxygen measurements easily with this endpoint.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="warning">
<code class="prettyprint">date</code> is a required field.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Blood oxygen measurement was created</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
</tr>
</tbody></table>

<h2 id="get-blood-oxygen-measurements">Get Blood Oxygen Measurements</h2>
<pre class="highlight shell">
<span class="c"># All blood oxygen measurements</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/blood_oxygens.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a paginated list of blood oxygen measurements:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"blood_oxygens"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">31</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">1378</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-06-17"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.800Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"96.5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>This will show a paginated list of a user&rsquo;s blood oxygen measurements.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Paginated list of blood oxygen measurements</td>
</tr>
</tbody></table>

<h1 id="body-fat-%">Body Fat %</h1>

<h2 id="create-body-fat-%-measurement-reading">Create Body Fat % Measurement Reading</h2>
<pre class="highlight shell"><span class="c"># Create a body fat measurement</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/body_fats.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">measurement</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">16.8</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">date</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2014-08-17</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">timestamp</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-06-17T09:07:27.892Z</span><span class="se">\"</span><span class="s2">}}"</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a <a href="/#body-fat-%">body fat measurement object</a></p>
</blockquote>

<p>Record new body fat measurements easily with this endpoint.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<p><aside class="warning">
<code class="prettyprint">date</code> is a required field.
</aside></p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Body fat measurement was created</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
</tr>
</tbody></table>

<h2 id="get-body-fat-measurements">Get Body Fat Measurements</h2>
<pre class="highlight shell">
<span class="c"># All body fat measurements</span>

curl <span class="s2">"https://api.nuapi.co/v3/measurement/body_fats.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>


</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>Returns a paginated list of blood oxygen measurements:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"body_fats"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">31</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="mi">1378</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-06-17"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.800Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"16.8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-06-17T10:15:54.801Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>This will show a paginated list of a user&rsquo;s body fat measurements.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h3 id="response-codes">Response codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Paginated list of body fat measurements</td>
</tr>
</tbody></table>

            <h1 id="activity">Activity</h1>

<h2 id="measurements-engine">Measurements Engine</h2>

<p>The Measurements Engine (BETA) is designed to handle all kinds of health measurements and data.</p>

<ul>
<li>Daily summaries</li>
<li>Segments</li>
<li>Streaming time-series events</li>
</ul>

<h1 id="steps">Steps</h1>

<h2 id="create-daily-steps">Create Daily Steps</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/measurements.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">steps</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">2014-08-17</span><span class="se">\"</span><span class="s2">=&gt;</span><span class="se">\"</span><span class="s2">700</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2014-08-18</span><span class="se">\"</span><span class="s2">=&gt;</span><span class="se">\"</span><span class="s2">650</span><span class="se">\"</span><span class="s2">}}"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>Returns an array with the dates submitted, with number of recorded steps:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">  
   </span><span class="s2">"steps"</span><span class="p">:[</span><span class="w">  
      </span><span class="p">{</span><span class="w">  
         </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-08-17"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"700.0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">  
         </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-08-18"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"650.0"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Allow steps to be registered.</p>

<p>You must post the number of steps together with the date these steps were registered. Only the total amount of steps per day is permitted. You can post any amount of dates you&rsquo;d like. The last given number of steps for a date will replace the previously recorded number of steps for that date.</p>

<p>For V3 the steps are added in measurements on the User model.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h2 id="get-daily-steps">Get Daily Steps</h2>
<pre class="highlight shell">curl <span class="s2">"https://api.nuapi.co/v3/measurements.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 17c17cThis17cIs17cWhere17cYour17cToken17cGoes17c17c"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>Returns a paginated list of steps:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">  
   </span><span class="s2">"steps"</span><span class="p">:[</span><span class="w">  
      </span><span class="p">{</span><span class="w">  
         </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-08-18"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"200.0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">  
         </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-08-17"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"990.0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">  
         </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2014-08-16"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"800.0"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Get all steps counted for the user, one value per day.</p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<p><aside class="notice">
You must include the <strong>api</strong> authentication header for this resource.
</aside></p>

<h1 id="activity-session">Activity Session</h1>

<h2 id="create-activity-session">Create Activity Session</h2>

<blockquote>
<p>ENDPOINT COMING SOON</p>
</blockquote>

<p><code class="prettyprint">POST</code> a new exercise session.</p>

<p>COMING SOON!! - see the <a href="https://trello.com/b/MmqlJvxv/nuwe-platform">roadmap</a></p>

<h2 id="get-activity-sessions">Get Activity Sessions</h2>

<blockquote>
<p>ENDPOINT COMING SOON</p>
</blockquote>

<p><code class="prettyprint">GET</code> a new exercise session.</p>

<p>COMING SOON!! - see the <a href="https://trello.com/b/MmqlJvxv/nuwe-platform">roadmap</a></p>

<h1 id="sleep">Sleep</h1>

<h2 id="create-sleep-session">Create Sleep Session</h2>

<blockquote>
<p>ENDPOINT COMING SOON</p>
</blockquote>

<p><code class="prettyprint">POST</code> a new sleep session.</p>

<p>COMING SOON!! - see the <a href="https://trello.com/b/MmqlJvxv/nuwe-platform">roadmap</a></p>

<h2 id="get-sleep-session">Get Sleep Session</h2>

<blockquote>
<p>ENDPOINT COMING SOON</p>
</blockquote>

<p><code class="prettyprint">GET</code> a new sleep session.</p>

<p>COMING SOON!! - see the <a href="https://trello.com/b/MmqlJvxv/nuwe-platform">roadmap</a></p>

            <h1 id="iot-devices">IoT Devices</h1>

<p>It is possible to connect different types of devices to your Nuwe application and store the data set that it creates.</p>

<h2 id="create-a-device">Create a Device</h2>

<p>To create a device connected to your application, go to your application on the <a href="http://developer.nuwe.co">Nuwe developer platform</a>. Go to your application and click on <code class="prettyprint">Devices</code> Click on the <code class="prettyprint">Add a New Device</code> button and give your device a name and select <code class="prettyprint">Enable device?</code>. In your devices overview, you will find the latest device with a <code class="prettyprint">Device Token</code>. You need this token to be able to post and get your data for this particular device.</p>

<h2 id="get-device-data">Get Device Data</h2>
<pre class="highlight shell"><span class="c"># 12345s7a-b123-d000-e123 is the example Device token</span>
curl <span class="s2">"https://api.nuapi.co/v3/medical_devices/12345s7a-b123-d000-e123/device_results.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"device_results"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">114</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"temperature"</span><span class="p">:</span><span class="s2">"15"</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-11-09T11:16:48.500Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-11-09T11:16:48.500Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="s2">"correct_filename"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"temperature"</span><span class="p">:</span><span class="s2">"15"</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-11-09T11:16:48.548Z
    updated_at"</span><span class="err">:</span><span class="s2">"2015-11-09T11:16:48.548Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="s2">"yesterday"</span><span class="p">},</span><span class="w">
    </span><span class="s2">"meta"</span><span class="err">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"columns"</span><span class="p">:</span><span class="w">
        </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">49</span><span class="p">,</span><span class="w">
          </span><span class="s2">"field_name"</span><span class="p">:</span><span class="s2">"temperature"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"integer"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"read_only"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"editor"</span><span class="p">:</span><span class="s2">"text"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-11-09T11:16:48.535Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-11-09T11:16:48.535Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"medical_device_id"</span><span class="p">:</span><span class="mi">31</span><span class="w">
          </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></pre>

<p><code class="prettyprint">GET</code> Device Data</p>

<p>Shows a paginated list of the data belonging to your device</p>

<h3 id="pagination">Pagination</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>return the given page</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>number of results per page</td>
</tr>
</tbody></table>

<p>The response contains a <code class="prettyprint">Link</code> header with pagination URLs
and a <code class="prettyprint">Total</code> header with the total number of entries, in accordance
with <a href="http://tools.ietf.org/html/rfc5988">RFC 5988</a>.</p>

<h2 id="post-device-data">Post Device Data</h2>
<pre class="highlight shell"><span class="c"># 12345s7a-b123-d000-e123 is the example Device token</span>
curl <span class="s2">"https://api.nuapi.co/v3/medical_devices/12345s7a-b123-d000-e123/device_results.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">device_result</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">columns</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">field_name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">temperature</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">integer</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">read_only</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">true</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">editor</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">text</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">field_name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">humidity</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">integer</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">read_only</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">true</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">editor</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">text</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">field_name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">created_at</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">date</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">read_only</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">true</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">editor</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">datePicker</span><span class="se">\"</span><span class="s2">}],</span><span class="se">\"</span><span class="s2">data</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">temperature</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">25</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">humidity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">26</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">created_at</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-09-21T09:07:51.628Z</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">temperature</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">24</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">humidity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">31</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">created_at</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-09-23T09:07:51.628Z</span><span class="se">\"</span><span class="s2">}]}"</span>

</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"device_results"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">215</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
      </span><span class="s2">"temperature"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"humidity"</span><span class="p">:</span><span class="s2">"26"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-09-21T09:07:51.628Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-11-09T12:44:43.142Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-11-09T12:44:43.142Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="err">null</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">216</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
      </span><span class="s2">"temperature"</span><span class="p">:</span><span class="s2">"24"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"humidity"</span><span class="p">:</span><span class="s2">"31"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-09-23T09:07:51.628Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-11-09T12:44:43.151Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-11-09T12:44:43.151Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="err">null</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p><code class="prettyprint">POST</code> Device Data</p>

<p>Post your data to a device as an array of hashes. Each hash will represent a row in the device result table in your application&rsquo;s device page on the <a href="http://developer.nuwe.co">Nuwe developer platform</a>. It is not necessary to add column info, as the system will create the columns by itself, but it is possible.</p>

<h2 id="update-device-data">Update Device Data</h2>
<pre class="highlight shell"><span class="c"># 12345s7a-b123-d000-e123 is the example Device token</span>
<span class="c"># 13 is the device result's (data) id</span>
curl <span class="s2">"https://api.nuapi.co/v3/medical_devices/12345s7a-b123-d000-e123/device_results/13.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">device_result</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">data</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">heat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">24</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">humidity</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">27</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">created_at</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2015-09-21T09:07:51.628Z</span><span class="se">\"</span><span class="s2">}]}"</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"device_result"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w">
    </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"heat"</span><span class="p">:</span><span class="s2">"24"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"humidity"</span><span class="p">:</span><span class="s2">"27"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-09-23T09:07:51.628Z"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-11-09T13:43:52.003Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-11-09T13:43:52.113Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="err">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre>

<p><code class="prettyprint">PATCH</code> Device Data</p>

<p>Update the device data.</p>

<h2 id="destroy-device-data">Destroy Device Data</h2>
<pre class="highlight shell"><span class="c"># 12345s7a-b123-d000-e123 is the example Device token</span>
<span class="c"># 13 is the device result's (data) id</span>
curl <span class="s2">"https://api.nuapi.co/v3/medical_devices/12345s7a-b123-d000-e123/device_results/13.json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
</pre>
<pre class="highlight ruby"></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"notice"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="s2">"Device Result deleted."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"device_result"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span><span class="w">
        </span><span class="s2">"filename"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"medical_device_id"</span><span class="p">:</span><span class="mi">108</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-11-09T14:30:00.952Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-11-09T14:30:00.952Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"temperature"</span><span class="p">:</span><span class="s2">"15"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"humidity"</span><span class="p">:</span><span class="s2">"22"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-09-23T09:07:51.628Z"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-11-09"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Destroy a given device data point</p>

<h2 id="basic-queries">Basic Queries</h2>

<h3 id="first-row">First Row</h3>
<pre class="highlight shell"><span class="c"># 12345s7a-b123-d000-e123 is the example Device token</span>
curl <span class="s2">"https://api.nuapi.co/v3/medical_devices/12345s7a-b123-d000-e123/device_results/query.json?QUERY_STRING"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>

</pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"device_results"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"temperature"</span><span class="p">:</span><span class="s2">"35"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-11-09T14:40:33.976Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-11-09T14:40:33.976Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="err">null</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre>

<p>A convenient way to quickly retrieve the first data point (table row) for your selected device.</p>

<p>Replace <code class="prettyprint">QUERY_STRING</code> with <code class="prettyprint">query%5bfirst%5d=true</code></p>

<h3 id="last-row">Last Row</h3>

<p>A convenient way to quickly retrieve the last data point (table row) for your selected device.</p>

<p>Replace <code class="prettyprint">QUERY_STRING</code> with <code class="prettyprint">query%5blast%5d=true</code></p>

<h3 id="date-device-data-points">Date device data points</h3>

<p>Retrieve the all the data stored for your device for a given date.</p>

<p>Replace <code class="prettyprint">QUERY_STRING</code> with <code class="prettyprint">query%5bdate%5d=2015-11-09</code></p>

<h3 id="date-range-device-data-points">Date range device data points</h3>

<p>Retrieve the all the data stored for your device within 2 given dates.</p>

<p>Replace <code class="prettyprint">QUERY_STRING</code> with <code class="prettyprint">query%5bdate_range%5d%5bfrom%5d=2015-11-08&amp;query%5bdate_range%5d%5bto%5d=2015-11-09</code></p>

<h3 id="filename-query-device-data-points">Filename query device data points</h3>

<p>Retrieve the all the data stored for your device with a matching filename (see file upload endpoint).</p>

<p>Replace <code class="prettyprint">QUERY_STRING</code> with <code class="prettyprint">query%5bfilename%5d=myfile</code></p>

<h2 id="file-uploads">File Uploads</h2>

<h3 id="create-file-upload">Create File Upload</h3>
<pre class="highlight shell"><span class="c"># 12345s7a-b123-d000-e123 is the example Device token</span>
<span class="c"># BASE64DATA is your encoded base 64 file</span>
curl <span class="s2">"https://api.nuapi.co/v3/medical_devices/12345s7a-b123-d000-e123/device_results/upload.json"</span> <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-X POST <span class="se">\</span>
-d <span class="s2">"{</span><span class="se">\"</span><span class="s2">device_result</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">file</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">data:text/plain;base64,BASE64DATA/"</span>,/<span class="s2">"filename/"</span>:/<span class="s2">"NA20150623142837/"</span><span class="o">}}</span><span class="s2">"
</span></pre>
<pre class="highlight ruby">
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="s2">"upload"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filename"</span><span class="p">:</span><span class="s2">"NA20150623142837"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medical_device_id"</span><span class="p">:</span><span class="mi">151</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2015-11-09T14:51:03.268Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2015-11-09T14:51:03.268Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"file_file_name"</span><span class="p">:</span><span class="s2">"data"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"file_content_type"</span><span class="p">:</span><span class="s2">"text/plain"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"file_file_size"</span><span class="p">:</span><span class="mi">3540</span><span class="p">,</span><span class="w">
    </span><span class="s2">"file_updated_at"</span><span class="p">:</span><span class="s2">"2015-11-09T14:51:03.264Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></pre>

<p><code class="prettyprint">Upload</code> a file for device data</p>

<p>Use base64 to encode the file as <a href="http://en.wikipedia.org/wiki/Data_URI_scheme">Data URI</a> and upload it to the server.</p>

      </div>
      <div class="dark-box">
        <div id="lang-selector">
                <a href="#" data-language-name="shell">Shell</a>
                <a href="#" data-language-name="objective_c">iOS</a>
                <a href="#" data-language-name="java">Android</a>
                <a href="#" data-language-name="javascript">Javascript</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="ruby">Ruby</a>
        </div>
      </div>
    </div>
  </body>
</html>